<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ë’·ë‹´í™” í˜„ì¥ - ì´í´ë¦½ìŠ¤ì˜ ë”œë ˜</title>
  
  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#7c3aed">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  <!-- SEO -->
  <meta name="description" content="ë™ë£Œë“¤ì´ ë‚´ ë’·ë‹´í™”ë¥¼ í•˜ê³  ìˆë‹¤. ì–´ë–»ê²Œ ëŒ€ì‘í• ê¹Œ?">
  <meta property="og:title" content="ë’·ë‹´í™” í˜„ì¥ - ì´í´ë¦½ìŠ¤ì˜ ë”œë ˜">
  <meta property="og:description" content="ë™ë£Œë“¤ì´ ë‚´ ë’·ë‹´í™”ë¥¼ í•˜ê³  ìˆë‹¤. ì–´ë–»ê²Œ ëŒ€ì‘í• ê¹Œ?">
  <meta property="og:image" content="https://eclipse-mindlab.github.io/mindlab/og-image.png">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #09090b;
      color: #fff;
      min-height: 100vh;
      padding: 24px;
      line-height: 1.6;
    }
    
    .container {
      max-width: 540px;
      margin: 0 auto;
    }
    
    .header {
      margin-bottom: 32px;
    }

    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: #71717a;
      text-decoration: none;
      font-size: 14px;
      margin-bottom: 16px;
    }

    .back-btn:hover {
      color: #f87171;
    }

    .header-content {
      text-align: center;
    }

    .header-category {
      font-size: 12px;
      color: #f87171;
      margin-bottom: 8px;
    }
    
    .header h1 {
      font-size: 22px;
      color: #fff;
      margin-bottom: 4px;
    }
    
    .header p {
      font-size: 14px;
      color: #71717a;
    }
    
    .progress {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
    }
    
    .progress-bar {
      height: 4px;
      flex: 1;
      border-radius: 4px;
      background: #27272a;
      transition: background 0.3s;
    }
    
    .progress-bar.completed { background: #f87171; }
    .progress-bar.current { background: rgba(248, 113, 113, 0.5); }
    
    .scenario-card {
      background: #18181b;
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
    }

    .stage-label {
      font-size: 11px;
      color: #71717a;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 12px;
    }

    .context {
      font-size: 13px;
      color: #a1a1aa;
      margin-bottom: 16px;
      padding-bottom: 16px;
      border-bottom: 1px solid #27272a;
    }
    
    .situation {
      font-size: 17px;
      color: #fff;
      font-weight: 500;
      line-height: 1.7;
    }
    
    .choices {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 24px;
    }
    
    .choice-btn {
      background: #18181b;
      border: 1px solid #27272a;
      border-radius: 12px;
      padding: 16px 20px;
      text-align: left;
      color: #fff;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 15px;
      line-height: 1.6;
    }
    
    .choice-btn:hover {
      border-color: #f87171;
      background: rgba(248, 113, 113, 0.05);
    }

    .choice-btn:active {
      transform: scale(0.98);
    }
    
    .result-section {
      display: none;
    }
    
    .result-section.show {
      display: block;
    }

    .selected-choice {
      background: #1f1f23;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
    }

    .selected-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }

    .selected-label {
      font-size: 12px;
      color: #71717a;
    }

    .selected-badge {
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 10px;
    }

    .selected-badge.optimal {
      background: rgba(74, 222, 128, 0.2);
      color: #4ade80;
    }

    .selected-badge.neutral {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }

    .selected-badge.bad {
      background: rgba(248, 113, 113, 0.2);
      color: #f87171;
    }

    .selected-text {
      font-size: 15px;
      color: #fff;
      line-height: 1.6;
    }

    .outcome-card {
      background: #18181b;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
    }

    .outcome-label {
      font-size: 12px;
      color: #71717a;
      margin-bottom: 8px;
    }

    .outcome-text {
      font-size: 14px;
      color: #a1a1aa;
      line-height: 1.8;
    }
    
    .principle-card {
      background: linear-gradient(135deg, rgba(248, 113, 113, 0.1), rgba(248, 113, 113, 0.05));
      border: 1px solid rgba(248, 113, 113, 0.2);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 16px;
    }

    .principle-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }

    .principle-icon {
      font-size: 20px;
    }

    .principle-label {
      font-size: 11px;
      color: #f87171;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .principle-name {
      color: #fff;
      font-weight: 600;
      font-size: 16px;
      margin-bottom: 8px;
    }
    
    .principle-explanation {
      color: #a1a1aa;
      line-height: 1.8;
      font-size: 14px;
    }

    .evaluation-card {
      display: flex;
      gap: 12px;
      padding: 14px 16px;
      border-radius: 12px;
      margin-bottom: 16px;
      align-items: flex-start;
    }

    .evaluation-card.positive {
      background: rgba(74, 222, 128, 0.1);
      border: 1px solid rgba(74, 222, 128, 0.3);
    }

    .evaluation-card.neutral {
      background: rgba(251, 191, 36, 0.1);
      border: 1px solid rgba(251, 191, 36, 0.3);
    }

    .evaluation-card.negative {
      background: rgba(248, 113, 113, 0.1);
      border: 1px solid rgba(248, 113, 113, 0.3);
    }

    .evaluation-icon {
      font-size: 18px;
      flex-shrink: 0;
    }

    .evaluation-text {
      font-size: 14px;
      line-height: 1.7;
    }

    .evaluation-card.positive .evaluation-text { color: #4ade80; }
    .evaluation-card.neutral .evaluation-text { color: #fbbf24; }
    .evaluation-card.negative .evaluation-text { color: #f87171; }

    .other-choices-section {
      margin-bottom: 16px;
    }

    .other-choices-toggle {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 12px;
      background: transparent;
      border: 1px solid #27272a;
      border-radius: 10px;
      color: #71717a;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .other-choices-toggle:hover {
      border-color: #3f3f46;
      color: #a1a1aa;
    }

    .other-choices-toggle.open {
      border-color: #3f3f46;
      background: #18181b;
    }

    .other-choices-toggle.open svg {
      transform: rotate(180deg);
    }

    .other-choices-content {
      margin-top: 12px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .other-choices-content.hidden {
      display: none;
    }

    .other-choice-card {
      background: #131316;
      border: 1px solid #1f1f23;
      border-radius: 12px;
      padding: 14px;
    }

    .other-choice-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }

    .eval-badge {
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 10px;
    }

    .eval-badge.positive {
      background: rgba(74, 222, 128, 0.2);
      color: #4ade80;
    }

    .eval-badge.neutral {
      background: rgba(251, 191, 36, 0.2);
      color: #fbbf24;
    }

    .eval-badge.negative {
      background: rgba(248, 113, 113, 0.2);
      color: #f87171;
    }

    .other-choice-text {
      font-size: 14px;
      color: #a1a1aa;
      margin-bottom: 10px;
    }

    .other-choice-principle {
      font-size: 13px;
      color: #71717a;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .other-choice-principle::before {
      content: "ğŸ’¡";
      font-size: 12px;
    }

    .next-btn {
      width: 100%;
      padding: 16px;
      background: #f87171;
      border: none;
      border-radius: 12px;
      color: #fff;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .next-btn:hover {
      background: #ef4444;
    }
    
    /* Final Result Screen */
    .final-screen {
      display: none;
      padding: 20px 0;
    }
    
    .final-screen.show {
      display: block;
    }

    .score-card {
      background: linear-gradient(135deg, #1f1f23, #18181b);
      border: 1px solid #27272a;
      border-radius: 20px;
      padding: 32px 24px;
      margin-bottom: 24px;
      text-align: center;
    }

    .score-display {
      margin-bottom: 16px;
    }

    .score-number {
      font-size: 64px;
      font-weight: 700;
      color: #f87171;
    }

    .score-total {
      font-size: 32px;
      color: #71717a;
    }

    .score-label {
      font-size: 14px;
      color: #71717a;
      margin-bottom: 20px;
    }

    .score-message {
      font-size: 15px;
      color: #a1a1aa;
      line-height: 1.7;
      margin-bottom: 20px;
    }

    .score-exp {
      display: inline-block;
      padding: 8px 16px;
      background: rgba(248, 113, 113, 0.2);
      border-radius: 20px;
      color: #f87171;
      font-weight: 600;
    }

    .principles-collected {
      background: #18181b;
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 24px;
    }

    .principles-title {
      font-size: 14px;
      color: #71717a;
      margin-bottom: 16px;
    }

    .principle-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      padding: 12px;
      background: #1f1f23;
      border-radius: 10px;
      margin-bottom: 8px;
    }

    .principle-item:last-child {
      margin-bottom: 0;
    }

    .principle-item-icon {
      font-size: 20px;
      flex-shrink: 0;
    }

    .principle-item-content {
      flex: 1;
    }

    .principle-item-name {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .principle-item-desc {
      font-size: 12px;
      color: #71717a;
      line-height: 1.5;
    }

    .share-section {
      margin-bottom: 24px;
    }
    
    .share-label {
      font-size: 14px;
      color: #71717a;
      margin-bottom: 12px;
      text-align: center;
    }
    
    .share-buttons {
      display: flex;
      gap: 12px;
    }
    
    .share-btn {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 14px;
      background: #1f1f23;
      border: 1px solid #27272a;
      border-radius: 12px;
      color: #fff;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .share-btn:hover {
      border-color: #f87171;
    }

    .action-buttons {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 32px;
    }

    .home-btn {
      display: block;
      text-align: center;
      padding: 16px;
      background: #f87171;
      border-radius: 12px;
      color: #fff;
      text-decoration: none;
      font-size: 16px;
      font-weight: 500;
      transition: background 0.2s;
    }

    .home-btn:hover {
      background: #ef4444;
    }

    .restart-btn {
      width: 100%;
      padding: 16px;
      background: transparent;
      border: 1px solid #27272a;
      border-radius: 12px;
      color: #a1a1aa;
      font-size: 15px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .restart-btn:hover {
      border-color: #f87171;
      color: #fff;
    }

    .promo-section {
      border-top: 1px solid #27272a;
      padding-top: 32px;
    }

    .eclipse-section {
      margin-bottom: 24px;
    }

    .eclipse-section-title {
      font-size: 14px;
      color: #71717a;
      text-align: center;
      margin-bottom: 16px;
    }

    .youtube-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 14px;
      background: #18181b;
      border: 1px solid #27272a;
      border-radius: 12px;
      color: #fff;
      text-decoration: none;
      font-size: 15px;
      font-weight: 500;
      transition: all 0.2s;
    }

    .youtube-icon {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      background: #ef4444;
      border-radius: 6px;
      font-size: 12px;
    }

    .youtube-btn:hover {
      border-color: #ef4444;
      background: rgba(239, 68, 68, 0.1);
    }

    .books-section {
      margin-top: 24px;
    }

    .books-section-title {
      font-size: 14px;
      color: #71717a;
      text-align: center;
      margin-bottom: 16px;
    }

    .books-grid {
      display: flex;
      justify-content: center;
      gap: 16px;
    }

    .book-item {
      text-align: center;
      text-decoration: none;
    }

    .book-item img {
      width: 100px;
      height: auto;
      border-radius: 8px;
      margin-bottom: 8px;
      transition: transform 0.2s;
    }

    .book-item:hover img {
      transform: scale(1.05);
    }

    .book-item-title {
      font-size: 12px;
      color: #a1a1aa;
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <a href="index.html" class="back-btn">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        ëŒì•„ê°€ê¸°
      </a>
      <div class="header-content">
        <div class="header-category">ì‹¬ë¦¬ Â· ê´€ê³„</div>
        <h1>ë’·ë‹´í™” í˜„ì¥</h1>
        <p>ë‹¹ì‹ ì˜ ì„ íƒ ë’¤ì— ìˆ¨ê²¨ì§„ ì›ì¹™ì„ ë°œê²¬í•˜ì„¸ìš”</p>
      </div>
    </div>
    
    <div class="progress" id="progress"></div>
    
    <div id="game-screen">
      <div class="scenario-card">
        <div class="stage-label" id="stage-label">Stage 1</div>
        <div class="context" id="context"></div>
        <div class="situation" id="situation"></div>
      </div>
      
      <div class="choices" id="choices"></div>
      
      <div class="result-section" id="result-section">
        <div class="selected-choice">
          <div class="selected-header">
            <span class="selected-label">ì„ íƒí•œ ë‹µë³€</span>
            <span class="selected-badge" id="selected-badge">ìµœì ì˜ ìˆ˜</span>
          </div>
          <div class="selected-text" id="selected-text"></div>
        </div>
        
        <div class="outcome-card">
          <div class="outcome-label">ê²°ê³¼</div>
          <div class="outcome-text" id="outcome-text"></div>
        </div>
        
        <div class="principle-card">
          <div class="principle-header">
            <span class="principle-icon">ğŸ’¡</span>
            <span class="principle-label">ë°œê²¬í•œ ì›ì¹™</span>
          </div>
          <div class="principle-name" id="principle-name"></div>
          <div class="principle-explanation" id="principle-explanation"></div>
        </div>

        <div class="evaluation-card" id="evaluation-card">
          <div class="evaluation-icon" id="evaluation-icon">âš ï¸</div>
          <div class="evaluation-text" id="evaluation-text"></div>
        </div>

        <div class="other-choices-section">
          <button class="other-choices-toggle" id="other-toggle">
            <span>ë‹¤ë¥¸ ì„ íƒì€?</span>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="6 9 12 15 18 9"/>
            </svg>
          </button>
          <div class="other-choices-content hidden" id="other-choices-content"></div>
        </div>
        
        <button class="next-btn" id="next-btn">ë‹¤ìŒ ìƒí™©</button>
      </div>
    </div>
    
    <div class="final-screen" id="final-screen">
      <div class="score-card">
        <div class="score-display">
          <span class="score-number" id="score-number">0</span><span class="score-total">/6</span>
        </div>
        <div class="score-label">ë‹¹ì‹ ì˜ ì‹¬ë¦¬ì „ ì ìˆ˜</div>
        <div class="score-message" id="score-message">ë©”ì‹œì§€</div>
        <div class="score-exp">+30 EXP íšë“!</div>
      </div>

      <div class="principles-collected">
        <div class="principles-title">ğŸ”“ ë°œê²¬í•œ ì›ì¹™ë“¤</div>
        <div id="principles-list"></div>
      </div>

      <div class="share-section">
        <div class="share-label">ì¹œêµ¬ì—ê²Œ ê³µìœ í•˜ê¸°</div>
        <div class="share-buttons">
          <button class="share-btn" id="native-share-btn">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
              <polyline points="16 6 12 2 8 6"/>
              <line x1="12" y1="2" x2="12" y2="15"/>
            </svg>
            ê³µìœ í•˜ê¸°
          </button>
          <button class="share-btn" id="copy-btn">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
            </svg>
            ë§í¬ ë³µì‚¬
          </button>
        </div>
      </div>

      <div class="action-buttons">
        <a href="index.html" class="home-btn">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
        <button class="restart-btn" id="restart-btn">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
      </div>

      <div class="promo-section">
        <div class="eclipse-section">
          <div class="eclipse-section-title">ì´í´ë¦½ìŠ¤ ë” ì•Œì•„ë³´ê¸°</div>
          <a href="https://www.youtube.com/@Eclipse-g4e" target="_blank" class="youtube-btn">
            <span class="youtube-icon">â–¶</span>
            <span>ìœ íŠœë¸Œ ì±„ë„</span>
          </a>
        </div>

        <div class="books-section">
          <div class="books-section-title">ì´í´ë¦½ìŠ¤ì˜ ì±…</div>
          <div class="books-grid">
            <a href="https://litt.ly/eclipse.thinker" target="_blank" class="book-item">
              <img src="book-philosophy.png" alt="í›”ì¹œ ì² í•™ í¸">
              <div class="book-item-title">í›”ì¹œ ì² í•™ í¸</div>
            </a>
            <a href="https://litt.ly/eclipse.thinker" target="_blank" class="book-item">
              <img src="book-psychology.png" alt="í›”ì¹œ ì‹¬ë¦¬í•™ í¸">
              <div class="book-item-title">í›”ì¹œ ì‹¬ë¦¬í•™ í¸</div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ì‹œë‚˜ë¦¬ì˜¤ ë°ì´í„°
    const scenarios = [
      // Stage 1: ë°œê²¬
      {
        id: "start",
        context: "í‡´ê·¼ ì¤€ë¹„ ì¤‘. í™”ì¥ì‹¤ ê°€ë ¤ê³  ë³µë„ë¥¼ ì§€ë‚˜ê°€ëŠ”ë° íœ´ê²Œì‹¤ì—ì„œ ì›ƒìŒì†Œë¦¬ê°€ ë“¤ë¦°ë‹¤.",
        situation: "\"ê±” ì§„ì§œ... ì†”ì§íˆ ì¢€ ê·¸ë ‡ì§€ ì•Šì•„?\"\n\në‚´ ì´ë¦„ì´ ë“¤ë ¸ë‹¤. ë¶„ëª…íˆ ë‚˜ë¥¼ ì–˜ê¸°í•˜ê³  ìˆë‹¤.",
        choices: [
          {
            text: "ë¬¸ì„ ì—´ê³  ë“¤ì–´ê°„ë‹¤",
            outcome: "ë¬¸ì´ ì—´ë¦¬ì ì›ƒìŒì†Œë¦¬ê°€ ëš ëŠê¸´ë‹¤. ì„¸ ëª…ì´ ë‹¹ì‹ ì„ ë³¸ë‹¤. ì–´ìƒ‰í•œ ì¹¨ë¬µ. ì´ì œ ë‹¹ì‹ ì€ 'ì˜ˆë¯¼í•œ ì‚¬ëŒ'ì´ ëë‹¤.",
            principle: "ì¶©ë™ì  ëŒ€ë©´ì˜ ë¹„ìš©",
            principleDesc: "ê°ì •ì´ ì•ì„œë©´ ì •ë³´ ì—†ì´ ì‹¸ì›€í„°ì— ë“¤ì–´ê°€ê²Œ ëœë‹¤. ìƒëŒ€ëŠ” 'ê·¸ëƒ¥ ì–˜ê¸°í–ˆì„ ë¿ì¸ë°'ë¼ê³  ìƒê°í•˜ê³ , ì˜¤íˆë ¤ ë‹¹ì‹ ì´ ê³¼ë¯¼ë°˜ì‘í•˜ëŠ” ì‚¬ëŒìœ¼ë¡œ ë³´ì¼ ìˆ˜ ìˆë‹¤.",
            evaluation: "negative",
            evalText: "ì„±ê¸‰í–ˆë‹¤. ë­˜ ë“¤ì—ˆëŠ”ì§€ë„ ëª¨ë¥¸ ì±„ ëŒ€ë©´í•˜ë©´, ì˜¤íˆë ¤ ë‚´ê°€ ë¶ˆë¦¬í•´ì§„ë‹¤.",
            score: 0,
            nextStage: "confronted"
          },
          {
            text: "ë¬¸ ì•ì—ì„œ ì¡°ìš©íˆ ë“£ëŠ”ë‹¤",
            outcome: "ìˆ¨ì„ ì£½ì´ê³  ë“£ëŠ”ë‹¤. \"ì§„ì§œ ìš”ì¦˜ ì™œ ì €ëŸ¬ëŠ”ì§€ ëª¨ë¥´ê² ì–´.\" \"ê·¸ë‹ˆê¹Œ, ë‚˜ë§Œ ë¶ˆí¸í•œ ì¤„ ì•Œì•˜ëŠ”ë°.\" ëˆ„ê°€ ì£¼ë„í•˜ëŠ”ì§€, ë­˜ ë¶ˆí¸í•´í•˜ëŠ”ì§€ íŒŒì•…ëœë‹¤.",
            principle: "ì •ë³´ ë¹„ëŒ€ì¹­",
            principleDesc: "ìƒëŒ€ê°€ ëª¨ë¥´ëŠ” ê±¸ ë‚´ê°€ ì•Œ ë•Œ ì„ íƒê¶Œì´ ìƒê¸´ë‹¤. ëŒ€ì‘í• ì§€, ë¬´ì‹œí• ì§€, ê±°ë¦¬ë¥¼ ë‘˜ì§€ â€” ì •ë³´ê°€ ìˆì–´ì•¼ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.",
            evaluation: "positive",
            evalText: "ìµœì ì˜ ì„ íƒ. 'ëˆ„ê°€, ë¬´ì—‡ì„, ì™œ' â€” ì•Œì•„ì•¼ ëŒ€ì‘ ì—¬ë¶€ë¥¼ ê²°ì •í•  ìˆ˜ ìˆë‹¤.",
            score: 2,
            nextStage: "listened"
          },
          {
            text: "ëª» ë“¤ì€ ì²™ ì§€ë‚˜ê°„ë‹¤",
            outcome: "í™”ì¥ì‹¤ë¡œ í–¥í•œë‹¤. ë§ˆìŒì´ ì¢€ ë¶ˆí¸í•˜ì§€ë§Œ, ì§ì¥ì—ì„œ ëª¨ë“  ë§ì— ë°˜ì‘í•  í•„ìš”ëŠ” ì—†ë‹¤. ë‚´ì¼ì´ë©´ ìŠì„ ìˆ˜ë„ ìˆë‹¤.",
            principle: "ì „ëµì  ë¬´ì‹œ",
            principleDesc: "ëª¨ë“  ê°ˆë“±ì— ì—ë„ˆì§€ë¥¼ ì“¸ í•„ìš”ëŠ” ì—†ë‹¤. í•œ ë²ˆì˜ í—˜ë‹´ì´ íŒ¨í„´ì¸ì§€, ì¼íšŒì„±ì¸ì§€ ëª¨ë¥´ëŠ” ìƒí™©ì—ì„œ ë°˜ì‘í•˜ë©´ ì˜¤íˆë ¤ ì†í•´ë‹¤.",
            evaluation: "neutral",
            evalText: "í˜„ì‹¤ì ì¸ ì„ íƒ. ë‹¤ë§Œ ë°˜ë³µë˜ë©´ ë‹¤ë¥¸ ì „ëµì´ í•„ìš”í•˜ë‹¤.",
            score: 1,
            nextStage: "avoided"
          }
        ]
      },
      
      // Stage 2A: ì§ì ‘ ëŒ€ë©´ í›„
      {
        id: "confronted",
        context: "ì„¸ ëª…ì´ ë‹¹í™©í•œ í‘œì •ì´ë‹¤. ê·¸ ì¤‘ ë¯¼ì§€ê°€ ë¨¼ì € ë§í•œë‹¤. \"ì–´, ì–¸ì œ ì™”ì–´?\"",
        situation: "ì´ë¯¸ ë“¤ì–´ì™”ë‹¤. ì´ ìƒí™©ì„ ì–´ë–»ê²Œ ìˆ˜ìŠµí• ê¹Œ?",
        choices: [
          {
            text: "\"ë¬´ìŠ¨ ì–˜ê¸° í•˜ê³  ìˆì—ˆì–´?\"",
            outcome: "\"ì•„... ê·¸ëƒ¥ íšŒì‚¬ ì–˜ê¸°.\" ë¯¼ì§€ê°€ ì‹œì„ ì„ í”¼í•œë‹¤. ì˜ˆìƒëŒ€ë¡œ ì§„ì‹¤ì€ ì•ˆ ë‚˜ì˜¨ë‹¤. ë¶„ìœ„ê¸°ë§Œ ì–´ìƒ‰í•´ì¡Œë‹¤.",
            principle: "ì—´ë¦° ì§ˆë¬¸ì˜ í•¨ì •",
            principleDesc: "\"ë¬´ìŠ¨ ì–˜ê¸°í–ˆì–´?\"ëŠ” ìƒëŒ€ì—ê²Œ ë„ë§ì¹  êµ¬ë©ì„ ì¤€ë‹¤. ê±°ì§“ë§í•  ì—¬ì§€ê°€ ìˆëŠ” ì§ˆë¬¸ì€ ê±°ì§“ë§ì„ ë¶€ë¥¸ë‹¤.",
            evaluation: "negative",
            evalText: "ì§„ì‹¤ë„ ëª» ì–»ê³ , ê´€ê³„ë§Œ ì–´ìƒ‰í•´ì¡Œë‹¤. ìµœì•…ì˜ ê²°ê³¼.",
            score: 0,
            nextStage: "asked_directly"
          },
          {
            text: "\"ì•„ ë‚˜ ë¬¼ ë§ˆì‹œëŸ¬ ì™”ì–´.\" (ìì—°ìŠ¤ëŸ½ê²Œ)",
            outcome: "ë¬¼ì„ ë§ˆì‹œê³  ë‚˜ì˜¨ë‹¤. ê·¸ë“¤ì˜ ëŒ€í™”ê°€ ì¬ê°œë˜ì§€ ì•ŠëŠ”ë‹¤. ë‹¹ì‹ ì´ ë“¤ì—ˆëŠ”ì§€ ì•ˆ ë“¤ì—ˆëŠ”ì§€ ëª¨ë¥´ë‹ˆê¹Œ, ê·¸ë“¤ì€ ë¶ˆì•ˆí•´í•œë‹¤.",
            principle: "ëª¨í˜¸í•¨ì˜ ì••ë°•",
            principleDesc: "ìƒëŒ€ê°€ 'ë‚´ê°€ ë­˜ ì•„ëŠ”ì§€'ë¥¼ ëª¨ë¥¼ ë•Œ, ê·¸ë“¤ì€ ìŠ¤ìŠ¤ë¡œ ë¶ˆì•ˆí•´í•˜ê³  í–‰ë™ì„ ì¡°ì‹¬í•˜ê²Œ ëœë‹¤. ë§í•˜ì§€ ì•ŠëŠ” ê²ƒë„ ì „ëµì´ë‹¤.",
            evaluation: "positive",
            evalText: "í˜„ëª…í•œ ìˆ˜ìŠµ. ì´ë¯¸ ë“¤ì–´ì˜¨ ìƒí™©ì—ì„œ ìµœì„ ì˜ ì„ íƒ.",
            score: 2,
            nextStage: "played_dumb"
          },
          {
            text: "\"ë‚˜ ì–˜ê¸°í•˜ë˜ ê±° ë§ì§€? ë“¤ì—ˆì–´.\"",
            outcome: "í‘œì •ì´ êµ³ëŠ”ë‹¤. \"...ì•„, ê·¸ê²Œ...\" ë¯¼ì§€ê°€ ë§ì„ ë”ë“¬ëŠ”ë‹¤. ì‚¬ê³¼ëŠ” ë°›ì„ ìˆ˜ ìˆì§€ë§Œ, ì´ì œ ë‹¹ì‹ ì€ 'ì˜ˆë¯¼í•œ ì‚¬ëŒ'ìœ¼ë¡œ ì°í˜”ë‹¤.",
            principle: "ì§ì ‘ ëŒ€ë©´ì˜ ë¹„ìš©",
            principleDesc: "ì‚¬ê³¼ë¥¼ ë°›ì•„ë„ ê´€ê³„ëŠ” íšŒë³µë˜ì§€ ì•ŠëŠ”ë‹¤. 'ê±” ì•ì—ì„œ ì¡°ì‹¬í•´ì•¼ í•´'ë¼ëŠ” ìƒˆë¡œìš´ ë‚™ì¸ì´ ìƒê¸´ë‹¤. ì´ê¸´ ê²ƒ ê°™ì§€ë§Œ ì§„ ì‹¸ì›€ì¼ ìˆ˜ ìˆë‹¤.",
            evaluation: "neutral",
            evalText: "ì‚¬ê³¼ëŠ” ë°›ì•˜ì§€ë§Œ, ì•ìœ¼ë¡œ ê·¸ë“¤ì€ ë‹¹ì‹ ì„ 'ì¡°ì‹¬í•´ì•¼ í•  ì‚¬ëŒ'ìœ¼ë¡œ ë³¸ë‹¤.",
            score: 1,
            nextStage: "revealed"
          }
        ]
      },
      
      // Stage 2B: ì—¿ë“¤ì€ í›„
      {
        id: "listened",
        context: "ëŒ€í™”ë¥¼ ë“¤ì—ˆë‹¤. ë¯¼ì§€ê°€ ì£¼ë„í•˜ê³  ìˆì—ˆê³ , ë‚´ê°€ \"ìš”ì¦˜ ë„ˆë¬´ ì˜ˆë¯¼í•˜ë‹¤\"ëŠ” ì–˜ê¸°ì˜€ë‹¤. êµ¬ì²´ì ìœ¼ë¡œ ì–´ë–¤ ì¼ ë•Œë¬¸ì¸ì§€ë„ ë“¤ì—ˆë‹¤.",
        situation: "ì •ë³´ë¥¼ ì–»ì—ˆë‹¤. ì´ì œ ì–´ë–»ê²Œ í• ê¹Œ?",
        choices: [
          {
            text: "ë“¤ì–´ê°€ì„œ \"ë‹¤ ë“¤ì—ˆì–´\"ë¼ê³  í•œë‹¤",
            outcome: "ì¶©ê²©ë°›ì€ í‘œì •ë“¤. \"...ë¯¸ì•ˆí•´.\" ë¯¼ì§€ê°€ ì‚¬ê³¼í•œë‹¤. í•˜ì§€ë§Œ ê·¸ í›„ë¡œ ê·¸ë“¤ì€ ë‹¹ì‹  ì•ì—ì„œ ë§ì„ ì•„ë‚€ë‹¤. íˆ¬ëª…ì¸ê°„ì´ ëœ ëŠë‚Œ.",
            principle: "ì¦‰ê° ëŒ€ë©´ì˜ ì—­íš¨ê³¼",
            principleDesc: "ì‚¬ê³¼ë¥¼ ë°›ì•„ë„ ê´€ê³„ ì—­í•™ì´ ë°”ë€ë‹¤. 'ê±” ì•ì—ì„  ì¡°ì‹¬í•´'ê°€ ì•”ë¬µì  ê·œì¹™ì´ ë˜ê³ , ë‹¹ì‹ ì€ íŒ€ ë‚´ ìì—°ìŠ¤ëŸ¬ìš´ ì†Œí†µì—ì„œ ë°°ì œë  ìˆ˜ ìˆë‹¤.",
            evaluation: "neutral",
            evalText: "ì‚¬ê³¼ëŠ” ë°›ì•˜ì§€ë§Œ, ì´ì œ ê·¸ë“¤ì€ ë‹¹ì‹  ì•ì—ì„œ ì§„ì§œ ëŒ€í™”ë¥¼ ì•ˆ í•œë‹¤.",
            score: 1,
            nextStage: "confronted_with_info"
          },
          {
            text: "ì¼ë‹¨ ì§€ë‚˜ê°„ë‹¤. ìŠ¤ìŠ¤ë¡œ ëŒì•„ë³¸ë‹¤",
            outcome: "ë“¤ì€ ë‚´ìš©ì„ ê³±ì”¹ëŠ”ë‹¤. 'ì˜ˆë¯¼í•˜ë‹¤'ëŠ” í‰ê°€ê°€ ì™„ì „íˆ í‹€ë¦° ê±´ ì•„ë‹ ìˆ˜ë„ ìˆë‹¤. ë¶ˆí¸í•˜ì§€ë§Œ, ë‚¨ë“¤ì´ ë³´ëŠ” ë‚´ ëª¨ìŠµì„ ì•Œê²Œ ëë‹¤.",
            principle: "í”¼ë“œë°±ìœ¼ë¡œì„œì˜ ë’·ë‹´í™”",
            principleDesc: "ë’·ë‹´í™”ëŠ” ë¶ˆì¾Œí•˜ì§€ë§Œ, ë©´ì „ì—ì„œ ë“£ê¸° ì–´ë ¤ìš´ ì†”ì§í•œ í‰ê°€ì¼ ìˆ˜ ìˆë‹¤. ê°ì •ì„ ë¹¼ê³  ì •ë³´ë§Œ ì·¨í•˜ë©´, ìê¸° ì¸ì‹ì˜ ë„êµ¬ê°€ ëœë‹¤.",
            evaluation: "positive",
            evalText: "ì„±ìˆ™í•œ ì„ íƒ. ë¶ˆì¾Œí•œ ì •ë³´ì—ì„œë„ ìœ ìš©í•œ í”¼ë“œë°±ì„ ì¶”ì¶œí–ˆë‹¤.",
            score: 2,
            nextStage: "self_reflect"
          },
          {
            text: "ë‚˜ì¤‘ì— ë¯¼ì§€ë§Œ ë”°ë¡œ ë§Œë‚œë‹¤",
            outcome: "ë‹¤ìŒ ë‚  ë¯¼ì§€ë¥¼ ë”°ë¡œ ë¶€ë¥¸ë‹¤. \"ì–´ì œ íœ´ê²Œì‹¤ì—ì„œ ë“¤ì—ˆì–´.\" ë¯¼ì§€ í‘œì •ì´ êµ³ëŠ”ë‹¤. ì‚¬ê³¼ëŠ” ë°›ì•˜ì§€ë§Œ, ê´€ê³„ê°€ ì–´ìƒ‰í•´ì¡Œë‹¤.",
            principle: "1:1 ëŒ€ë©´ì˜ í•œê³„",
            principleDesc: "ì§‘ë‹¨ë³´ë‹¤ ê°œì¸ì„ ìƒëŒ€í•˜ëŠ” ê±´ ë§ì§€ë§Œ, ëŒ€ë©´ ìì²´ê°€ ê´€ê³„ ë¹„ìš©ì„ ìˆ˜ë°˜í•œë‹¤. ì‚¬ê³¼ë¥¼ ë°›ì•„ë„ 'ê±”ê°€ ë“¤ì—ˆëŒ€'ë¼ëŠ” ì–˜ê¸°ê°€ ë˜ ëˆë‹¤.",
            evaluation: "neutral",
            evalText: "í•©ë¦¬ì  ì„ íƒì´ì§€ë§Œ, ë¯¼ì§€ëŠ” ì´ì œ ë‹¹ì‹ ì„ ë¶ˆí¸í•œ ì‚¬ëŒìœ¼ë¡œ ê¸°ì–µí•œë‹¤.",
            score: 1,
            nextStage: "private_talk"
          }
        ]
      },
      
      // Stage 2C: íšŒí”¼ í›„
      {
        id: "avoided",
        context: "ë©°ì¹ ì´ ì§€ë‚¬ë‹¤. ë”±íˆ ë­”ê°€ ë‹¬ë¼ì§„ ê±´ ì—†ë‹¤. ë¯¼ì§€ë‘ë„ í‰ì†Œì²˜ëŸ¼ ì§€ë‚¸ë‹¤.",
        situation: "ê·¸ëŸ°ë° ë¹„ìŠ·í•œ ìƒí™©ì´ ë˜ ìƒê²¼ë‹¤. ì´ë²ˆì—” ì–´ë–»ê²Œ í• ê¹Œ?",
        choices: [
          {
            text: "ì´ë²ˆì—ë„ ê·¸ëƒ¥ ì§€ë‚˜ê°„ë‹¤",
            outcome: "ë˜ ì§€ë‚˜ê°„ë‹¤. ì‚¬ì‹¤ ì§ì¥ì—ì„œ í—˜ë‹´ì€ í”í•˜ë‹¤. ëª¨ë“  ê±¸ ì‹ ê²½ ì“°ë©´ ì¼ì„ ëª» í•œë‹¤. ì¤‘ìš”í•œ ê±´ ë‚´ ì—…ë¬´ ì„±ê³¼ë‹¤.",
            principle: "ì„ íƒì  ë¬´ì‹œ",
            principleDesc: "ëª¨ë“  ê°ˆë“±ì— ë°˜ì‘í•˜ë©´ ì—ë„ˆì§€ê°€ ê³ ê°ˆëœë‹¤. ì‹¤ì§ˆì  í”¼í•´ê°€ ì—†ìœ¼ë©´, ë¬´ì‹œí•˜ëŠ” ê²ƒë„ ì „ëµì´ë‹¤. ë‹¨, íŒ¨í„´ì´ ë˜ë©´ ë‹¤ë¥¸ ëŒ€ì‘ì´ í•„ìš”í•˜ë‹¤.",
            evaluation: "neutral",
            evalText: "í˜„ì‹¤ì ì¸ ì„ íƒ. ì§ì¥ì—ì„œ ëª¨ë“  ë§ì— ë°˜ì‘í•  í•„ìš”ëŠ” ì—†ë‹¤.",
            score: 1,
            nextStage: "end_neutral"
          },
          {
            text: "ìŠ¬ì© ê±°ë¦¬ë¥¼ ë‘”ë‹¤",
            outcome: "ê·¸ ê·¸ë£¹ê³¼ ìì—°ìŠ¤ëŸ½ê²Œ ê±°ë¦¬ë¥¼ ë‘”ë‹¤. ì ì‹¬ë„ ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ë¨¹ê³ , í•„ìš”í•œ ì—…ë¬´ ëŒ€í™”ë§Œ í•œë‹¤. ì—ë„ˆì§€ ë‚­ë¹„ê°€ ì¤„ì—ˆë‹¤.",
            principle: "ì¡°ìš©í•œ ê±°ë¦¬ë‘ê¸°",
            principleDesc: "ì§ì ‘ ëŒ€ë©´í•˜ì§€ ì•Šê³ ë„ ê´€ê³„ë¥¼ ì¬ì¡°ì •í•  ìˆ˜ ìˆë‹¤. ì‹¸ìš°ì§€ ì•Šê³  ë©€ì–´ì§€ë©´, ìƒëŒ€ë„ ëˆˆì¹˜ì±„ê³  í–‰ë™ì´ ë‹¬ë¼ì§„ë‹¤.",
            evaluation: "positive",
            evalText: "ê°€ì¥ í˜„ì‹¤ì ì¸ ì„ íƒ. ì—ë„ˆì§€ëŠ” ë‚˜ë¥¼ ì¸ì •í•˜ëŠ” ì‚¬ëŒì—ê²Œ ì“°ëŠ” ê²Œ ë‚«ë‹¤.",
            score: 2,
            nextStage: "end_distance"
          },
          {
            text: "ë‹¤ë¥¸ ë™ë£Œì—ê²Œ ìŠ¬ì© ë¬¼ì–´ë³¸ë‹¤",
            outcome: "\"ìš”ì¦˜ ë¯¼ì§€ê°€ ë‚˜ ë­ë¼ ê·¸ë˜?\" ë™ë£Œê°€ ì–´ìƒ‰í•˜ê²Œ ì›ƒëŠ”ë‹¤. \"ì™œ? ë¬´ìŠ¨ ì¼ ìˆì–´?\" ë‹¹ì‹ ì˜ ì§ˆë¬¸ì´ ìƒˆë¡œìš´ ì†Œë¬¸ì´ ëë‹¤.",
            principle: "ì œ3ì ê°œì…ì˜ ìœ„í—˜",
            principleDesc: "ë‘˜ ì‚¬ì´ì˜ ë¬¸ì œì— ì œ3ìë¥¼ ëŒì–´ë“¤ì´ë©´ ìƒí™©ì´ ë³µì¡í•´ì§„ë‹¤. ë‹¹ì‹ ì˜ ì§ˆë¬¸ ìì²´ê°€ 'ê±”ê°€ ì‹ ê²½ ì“°ë‚˜ ë´'ë¼ëŠ” ìƒˆë¡œìš´ ì–˜ê¹ƒê±°ë¦¬ê°€ ëœë‹¤.",
            evaluation: "negative",
            evalText: "ìµœì•…ì˜ ì„ íƒ. ë’·ë‹´í™”ë¥¼ í•´ê²°í•˜ë ¤ë‹¤ ë” í° ë’·ë‹´í™”ë¥¼ ë§Œë“¤ì—ˆë‹¤.",
            score: 0,
            nextStage: "end_worse"
          }
        ]
      },
      
      // Stage 3A: ì •ë³´ ê°€ì§€ê³  ëŒ€ë©´ í›„
      {
        id: "confronted_with_info",
        context: "ë¯¼ì§€ê°€ ì‚¬ê³¼í–ˆë‹¤. í•˜ì§€ë§Œ ê·¸ í›„ë¡œ ë¶„ìœ„ê¸°ê°€ ì–´ìƒ‰í•˜ë‹¤. ê·¸ë“¤ì€ ë‹¹ì‹  ì•ì—ì„œ ë§ì„ ì•„ë‚€ë‹¤.",
        situation: "íŒ€ ì ì‹¬ ì‹œê°„. ë¯¼ì§€ ê·¸ë£¹ì´ ë”°ë¡œ ê°„ë‹¤. ë‹¹ì‹ ì„ ì•ˆ ë¶€ë¥¸ë‹¤.",
        choices: [
          {
            text: "ì‹ ê²½ ì“°ì§€ ì•ŠëŠ”ë‹¤. ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ë¨¹ëŠ”ë‹¤",
            outcome: "ë‹¤ë¥¸ ë™ë£Œë“¤ê³¼ ì ì‹¬ì„ ë¨¹ëŠ”ë‹¤. ì‚¬ì‹¤ ë” í¸í•˜ë‹¤. êµ³ì´ ë¶ˆí¸í•œ ì‚¬ëŒë“¤ê³¼ ì–µì§€ë¡œ ì–´ìš¸ë¦´ í•„ìš” ì—†ë‹¤.",
            principle: "ê´€ê³„ ì¬í¸ì„±",
            principleDesc: "ëª¨ë“  ì‚¬ëŒê³¼ ì˜ ì§€ë‚¼ í•„ìš”ëŠ” ì—†ë‹¤. ê°ˆë“± í›„ ìì—°ìŠ¤ëŸ½ê²Œ ê±°ë¦¬ê°€ ìƒê¸°ëŠ” ê±´ ì •ìƒì´ë‹¤. ìƒˆë¡œìš´ ê´€ê³„ì— ì—ë„ˆì§€ë¥¼ ì“°ëŠ” ê²Œ ë‚«ë‹¤.",
            evaluation: "positive",
            evalText: "ê±´ê°•í•œ ì„ íƒ. ë‚˜ë¥¼ ë¶ˆí¸í•´í•˜ëŠ” ì‚¬ëŒê³¼ ì–µì§€ë¡œ ì¹œí•  í•„ìš” ì—†ë‹¤.",
            score: 2,
            nextStage: "end"
          },
          {
            text: "\"ë‚˜ë„ ê°™ì´ ê°€ë„ ë¼?\"ë¼ê³  ë¬¼ì–´ë³¸ë‹¤",
            outcome: "ì–´ìƒ‰í•œ ì¹¨ë¬µ í›„ \"ì–´, ê·¸ë˜...\" ê°™ì´ ê°€ê¸´ í–ˆì§€ë§Œ ë¶„ìœ„ê¸°ê°€ ë¶ˆí¸í•˜ë‹¤. ì–µì§€ë¡œ ë¼ì–´ë“  ëŠë‚Œ.",
            principle: "ê³¼ì‰ ì¹œí™”ì˜ ì—­íš¨ê³¼",
            principleDesc: "ê°ˆë“± í›„ ë°”ë¡œ ì¹œí•´ì§€ë ¤ í•˜ë©´ ë” ì–´ìƒ‰í•´ì§„ë‹¤. ê´€ê³„ íšŒë³µì—ëŠ” ì‹œê°„ì´ í•„ìš”í•˜ë‹¤. ì¡°ê¸‰í•˜ë©´ ì˜¤íˆë ¤ 'ëˆˆì¹˜ ì—†ëŠ” ì‚¬ëŒ'ì´ ëœë‹¤.",
            evaluation: "negative",
            evalText: "ë„ˆë¬´ ê¸‰í–ˆë‹¤. ì‹œê°„ì„ ë‘ê³  ìì—°ìŠ¤ëŸ½ê²Œ íšŒë³µë˜ë„ë¡ ë’€ì–´ì•¼ í–ˆë‹¤.",
            score: 0,
            nextStage: "end"
          },
          {
            text: "ì—…ë¬´ì ìœ¼ë¡œë§Œ ì˜ ì§€ë‚¸ë‹¤",
            outcome: "ì‚¬ì  ëŒ€í™”ëŠ” ì¤„ì´ê³ , ì—…ë¬´ í˜‘ì—…ì€ í”„ë¡œí˜ì…”ë„í•˜ê²Œ í•œë‹¤. ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ì–´ìƒ‰í•¨ì´ ì˜…ì–´ì§„ë‹¤.",
            principle: "í”„ë¡œí˜ì…”ë„ ê±°ë¦¬",
            principleDesc: "ì§ì¥ ê´€ê³„ëŠ” ì¹œêµ¬ ê´€ê³„ê°€ ì•„ë‹ˆë‹¤. ì—…ë¬´ì ìœ¼ë¡œ ë¬¸ì œì—†ì´ í˜‘ë ¥í•˜ë©´ ì¶©ë¶„í•˜ë‹¤. ê°ì •ì  ì¹œë°€í•¨ì„ ê°•ìš”í•˜ì§€ ì•ŠëŠ” ê²Œ ì„œë¡œ í¸í•˜ë‹¤.",
            evaluation: "positive",
            evalText: "í˜„ì‹¤ì ì¸ ì„ íƒ. ì§ì¥ì—ì„œëŠ” ì´ ì •ë„ê°€ ì ë‹¹í•˜ë‹¤.",
            score: 2,
            nextStage: "end"
          }
        ]
      },
      
      // Stage 3B: ìê¸° ì„±ì°° ì„ íƒ í›„
      {
        id: "self_reflect",
        context: "ë“¤ì€ ë‚´ìš©ì„ ê³±ì”¹ì—ˆë‹¤. 'ì˜ˆë¯¼í•˜ë‹¤'ëŠ” í‰ê°€. ë¶ˆì¾Œí•˜ì§€ë§Œ, ì™„ì „íˆ í‹€ë¦° ë§ì€ ì•„ë‹ ìˆ˜ë„ ìˆë‹¤.",
        situation: "ì†”ì§íˆ ë‚˜ë„ ìš”ì¦˜ ì¢€ ë‚ ì´ ì„œ ìˆì—ˆë‹¤. ì–´ë–»ê²Œ í• ê¹Œ?",
        choices: [
          {
            text: "ë‚´ í–‰ë™ì„ ì¡°ê¸ˆ ì¡°ì ˆí•´ë³¸ë‹¤",
            outcome: "ì˜ì‹ì ìœ¼ë¡œ ë§íˆ¬ë¥¼ ë¶€ë“œëŸ½ê²Œ í•˜ê³ , íŒ€ì›ë“¤ì—ê²Œ ë¨¼ì € ì¸ì‚¬í•œë‹¤. ëª‡ ì£¼ í›„, ë¶„ìœ„ê¸°ê°€ ë‹¬ë¼ì¡Œë‹¤. ì•„ë¬´ë„ ëª¨ë¥´ê²Œ ë°”ë€Œì—ˆë‹¤.",
            principle: "ë³´ì´ì§€ ì•ŠëŠ” ë³€í™”",
            principleDesc: "ëŒ€ë©´í•˜ì§€ ì•Šê³ ë„ ìƒí™©ì„ ë°”ê¿€ ìˆ˜ ìˆë‹¤. ë‚´ í–‰ë™ì´ ë°”ë€Œë©´ ìƒëŒ€ì˜ ë°˜ì‘ë„ ë°”ë€ë‹¤. ê°€ì¥ ì¡°ìš©í•˜ê³  íš¨ê³¼ì ì¸ í•´ê²°ì±….",
            evaluation: "positive",
            evalText: "ê°€ì¥ í˜„ëª…í•œ ì„ íƒ. ì‹¸ìš°ì§€ ì•Šê³ , ì…ì¦í•˜ì§€ ì•Šê³ , ê·¸ëƒ¥ ë°”ê¿¨ë‹¤.",
            score: 2,
            nextStage: "end"
          },
          {
            text: "ê·¸ë˜ë„ ë’·ë‹´í™”ëŠ” ì˜ëª»ëœ ê±°ë‹¤. ë¯¼ì§€ì—ê²Œ ë§í•œë‹¤",
            outcome: "\"ë‚´ê°€ ì¢€ ì˜ˆë¯¼í–ˆë˜ ê±´ ë§ì•„. ê·¼ë° ë’¤ì—ì„œ ë§í•˜ì§€ ë§ê³  ì§ì ‘ ë§í•´ì¤¬ìœ¼ë©´ ì¢‹ê² ì–´.\" ë¯¼ì§€ê°€ ê³ ê°œë¥¼ ë„ë•ì¸ë‹¤. ì–´ìƒ‰í•˜ì§€ë§Œ ì†”ì§í•œ ëŒ€í™”ì˜€ë‹¤.",
            principle: "ì¸ì • + ê²½ê³„",
            principleDesc: "ë‚´ ì˜ëª»ì„ ì¸ì •í•˜ë©´ì„œë„ ìƒëŒ€ì˜ ì˜ëª»ë„ ì§šëŠ”ë‹¤. ë‘˜ ë‹¤ ë§ì„ ìˆ˜ ìˆë‹¤. ë°©ì–´ë§Œ í•˜ê±°ë‚˜ ê³µê²©ë§Œ í•˜ëŠ” ê²ƒë³´ë‹¤ íš¨ê³¼ì ì´ë‹¤.",
            evaluation: "positive",
            evalText: "ê· í˜• ì¡íŒ ì„ íƒ. ì„±ìˆ™í•œ ëŒ€í™”ê°€ ê°€ëŠ¥í–ˆë‹¤.",
            score: 2,
            nextStage: "end"
          },
          {
            text: "ë‚´ê°€ ë­˜ ì˜ëª»í–ˆëŠ”ë°? ê·¸ëƒ¥ ë¬´ì‹œí•œë‹¤",
            outcome: "ê³„ì† í‰ì†ŒëŒ€ë¡œ í–‰ë™í•œë‹¤. í•˜ì§€ë§Œ íŒ€ ë¶„ìœ„ê¸°ê°€ ì¡°ê¸ˆì”© ë©€ì–´ì§€ëŠ” ê²Œ ëŠê»´ì§„ë‹¤. ë­”ê°€ ì˜ëª»ë˜ê³  ìˆë‹¤.",
            principle: "ë°©ì–´ì  ë¶€ì •",
            principleDesc: "ë¶ˆí¸í•œ í”¼ë“œë°±ì„ ì™„ì „íˆ ê±°ë¶€í•˜ë©´ ì„±ì¥ ê¸°íšŒë¥¼ ìƒëŠ”ë‹¤. 100% ë§ëŠ” ë§ì´ ì•„ë‹ˆì–´ë„, 0%ëŠ” ë”ë”ìš± ì•„ë‹ ìˆ˜ ìˆë‹¤.",
            evaluation: "negative",
            evalText: "í”¼ë“œë°±ì„ ì™„ì „íˆ ë¬´ì‹œí–ˆë‹¤. ìƒí™©ì´ ë‚˜ì•„ì§€ì§€ ì•Šì„ ê°€ëŠ¥ì„±ì´ ë†’ë‹¤.",
            score: 0,
            nextStage: "end"
          }
        ]
      },
      
      // Stage 3C: 1:1 ëŒ€í™” í›„
      {
        id: "private_talk",
        context: "ë¯¼ì§€ì™€ 1:1ë¡œ ì–˜ê¸°í–ˆë‹¤. ì–´ìƒ‰í–ˆì§€ë§Œ ì‚¬ê³¼ëŠ” ë°›ì•˜ë‹¤.",
        situation: "ë©°ì¹  í›„, ë¯¼ì§€ê°€ ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ \"ê±”ê°€ ë‹¤ ë“¤ì—ˆëŒ€, ì¡°ì‹¬í•´\"ë¼ê³  ë§í•˜ëŠ” ê±¸ ë˜ ë“¤ì—ˆë‹¤.",
        choices: [
          {
            text: "ì´ë²ˆì—” ê·¸ëƒ¥ ë¬´ì‹œí•œë‹¤",
            outcome: "ë˜ ëŒ€ë©´í•´ë´¤ì ê°™ì€ íŒ¨í„´ì´ë‹¤. ê·¸ëƒ¥ ê±°ë¦¬ë¥¼ ë‘”ë‹¤. ì—ë„ˆì§€ ì•„ë¼ëŠ” ê²Œ ë‚«ë‹¤.",
            principle: "ì†ì ˆì˜ ì§€í˜œ",
            principleDesc: "í•œ ë²ˆì€ ì‹¤ìˆ˜, ë‘ ë²ˆì€ íŒ¨í„´ì´ë‹¤. ê°™ì€ í–‰ë™ì´ ë°˜ë³µë˜ë©´, ëŒ€ë©´ë³´ë‹¤ ê±°ë¦¬ë‘ê¸°ê°€ íš¨ê³¼ì ì´ë‹¤. ìƒëŒ€ëŠ” ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤.",
            evaluation: "positive",
            evalText: "í˜„ëª…í•œ ì„ íƒ. ë‘ ë²ˆì§¸ ê¸°íšŒë¥¼ ì¤¬ëŠ”ë° ë˜ ê°™ìœ¼ë©´, ê·¸ê²Œ ê·¸ ì‚¬ëŒì´ë‹¤.",
            score: 2,
            nextStage: "end"
          },
          {
            text: "ë‹¤ì‹œ ì–˜ê¸°í•œë‹¤. \"ë˜ ê·¸ëŸ¬ë„¤?\"",
            outcome: "ë¯¼ì§€ê°€ ë‹¹í™©í•œë‹¤. \"ì•„, ê·¸ê²Œ ê·¸ëŸ° ëœ»ì´ ì•„ë‹ˆë¼...\" ê°™ì€ ë³€ëª…ì´ ë°˜ë³µëœë‹¤. ì—ë„ˆì§€ë§Œ ì†Œëª¨ëœë‹¤.",
            principle: "ë°˜ë³µ ëŒ€ë©´ì˜ í•œê³„",
            principleDesc: "ê°™ì€ ë¬¸ì œë¡œ ì—¬ëŸ¬ ë²ˆ ëŒ€ë©´í•˜ë©´, ìƒëŒ€ëŠ” ë°”ë€Œì§€ ì•Šê³  ë‹¹ì‹ ë§Œ 'ì§‘ì°©í•˜ëŠ” ì‚¬ëŒ'ì´ ëœë‹¤. í•œ ë²ˆì´ë©´ ì¶©ë¶„í•˜ë‹¤.",
            evaluation: "negative",
            evalText: "ê°™ì€ ëŒ€í™”ë¥¼ ë‘ ë²ˆ í•  í•„ìš” ì—†ë‹¤. ì‹œê°„ ë‚­ë¹„.",
            score: 0,
            nextStage: "end"
          },
          {
            text: "íŒ€ì¥ì—ê²Œ ë³´ê³ í•œë‹¤",
            outcome: "íŒ€ì¥ì´ ë¯¼ì§€ì—ê²Œ ì£¼ì˜ë¥¼ ì¤¬ë‹¤. í•˜ì§€ë§Œ ì´ì œ ë‹¹ì‹ ì€ 'ìœ—ì„ ì— ë³´ê³ í•˜ëŠ” ì‚¬ëŒ'ì´ ëë‹¤. íŒ€ ì „ì²´ê°€ ì¡°ì‹¬í•œë‹¤... ë‹¹ì‹ ì„.",
            principle: "ê¶Œìœ„ ê°œì…ì˜ ì—­íš¨ê³¼",
            principleDesc: "ìƒì‚¬ì—ê²Œ ë³´ê³ í•˜ë©´ ë¬¸ì œëŠ” í•´ê²°ë˜ì§€ë§Œ, ìƒˆë¡œìš´ ë¬¸ì œê°€ ìƒê¸´ë‹¤. ë™ë£Œë“¤ì—ê²Œ 'ê°™ì´ ì¼í•˜ê¸° ë¶ˆí¸í•œ ì‚¬ëŒ'ìœ¼ë¡œ ì¸ì‹ë  ìˆ˜ ìˆë‹¤.",
            evaluation: "negative",
            evalText: "ë¬¸ì œëŠ” í•´ê²°ëì§€ë§Œ, ë” í° ë¹„ìš©ì„ ì¹˜ë €ë‹¤.",
            score: 0,
            nextStage: "end"
          }
        ]
      },

      // Stage 3D: ëª¨ë¥¸ì²™ í›„
      {
        id: "played_dumb",
        context: "ëª¨ë¥¸ ì²™í•˜ê³  ë‚˜ì™”ë‹¤. ê·¸ë“¤ì€ ë‹¹ì‹ ì´ ë“¤ì—ˆëŠ”ì§€ ì•ˆ ë“¤ì—ˆëŠ”ì§€ ëª¨ë¥¸ë‹¤.",
        situation: "ë©°ì¹  í›„, ë¯¼ì§€ê°€ ë¨¼ì € ë‹¤ê°€ì™€ ë§ì„ ê±´ë‹¤. í‰ì†Œë³´ë‹¤ ì¹œì ˆí•˜ë‹¤.",
        choices: [
          {
            text: "í‰ì†Œì²˜ëŸ¼ ëŒ€í•œë‹¤",
            outcome: "ì•„ë¬´ ì¼ ì—†ë˜ ê²ƒì²˜ëŸ¼ ì§€ë‚¸ë‹¤. ë¯¼ì§€ë„ ì•ˆì‹¬í•œ ë“¯ í‰ì†Œë¡œ ëŒì•„ì˜¨ë‹¤. ì–´ì©Œë©´ ì§„ì§œ ë³„ ì¼ ì•„ë‹ˆì—ˆì„ ìˆ˜ë„ ìˆë‹¤.",
            principle: "ë¶ˆí™•ì‹¤ì„±ì˜ íš¨ê³¼",
            principleDesc: "ìƒëŒ€ê°€ 'ë‚´ê°€ ë­˜ ì•„ëŠ”ì§€' ëª¨ë¥´ë©´, ìŠ¤ìŠ¤ë¡œ í–‰ë™ì„ ì¡°ì‹¬í•œë‹¤. êµ³ì´ ëŒ€ë©´í•˜ì§€ ì•Šì•„ë„ ì–µì œë ¥ì´ ìƒê¸´ë‹¤.",
            evaluation: "positive",
            evalText: "ê°€ì¥ íš¨ìœ¨ì ì¸ ì„ íƒ. ì‹¸ìš°ì§€ ì•Šê³  ê²°ê³¼ë¥¼ ì–»ì—ˆë‹¤.",
            score: 2,
            nextStage: "end"
          },
          {
            text: "ìŠ¬ì© ë– ë³¸ë‹¤. \"ìš”ì¦˜ íœ´ê²Œì‹¤ì—ì„œ ë­” ì–˜ê¸°ë“¤ í•´?\"",
            outcome: "ë¯¼ì§€ í‘œì •ì´ êµ³ëŠ”ë‹¤. \"ì–´... ê·¸ëƒ¥ íšŒì‚¬ ì–˜ê¸°.\" ì´ì œ ë¯¼ì§€ëŠ” ë‹¹ì‹ ì´ ì•Œê³  ìˆë‹¤ê³  í™•ì‹ í•œë‹¤. ì–´ìƒ‰í•´ì¡Œë‹¤.",
            principle: "ëª¨í˜¸í•¨ì˜ íŒŒê´´",
            principleDesc: "ë– ë³´ëŠ” ìˆœê°„ ëª¨í˜¸í•¨ì´ ì‚¬ë¼ì§„ë‹¤. ìƒëŒ€ëŠ” 'ì•Œê³  ìˆêµ¬ë‚˜'ë¥¼ í™•ì¸í•˜ê³ , ê´€ê³„ê°€ ê²½ì§ëœë‹¤. ì°¨ë¼ë¦¬ ëª¨ë¥´ëŠ” ì²™í•˜ëŠ” ê²Œ ë‚˜ì•˜ë‹¤.",
            evaluation: "negative",
            evalText: "ê´œíˆ ë– ë´¤ë‹¤. ëª¨í˜¸í•¨ì´ ì£¼ëŠ” ì´ì ì„ ìŠ¤ìŠ¤ë¡œ ì—†ì•´ë‹¤.",
            score: 0,
            nextStage: "end"
          },
          {
            text: "ê±°ë¦¬ë¥¼ ë‘”ë‹¤. í•„ìš”í•œ ëŒ€í™”ë§Œ í•œë‹¤",
            outcome: "êµ³ì´ ì¹œí•˜ê²Œ ì§€ë‚´ì§€ ì•ŠëŠ”ë‹¤. ì—…ë¬´ì ìœ¼ë¡œë§Œ ëŒ€í•œë‹¤. ì„œë¡œ í¸í•˜ë‹¤.",
            principle: "ì¡°ìš©í•œ ê²½ê³„",
            principleDesc: "ë§ë¡œ ì„ ì„ ê¸‹ì§€ ì•Šì•„ë„ í–‰ë™ìœ¼ë¡œ ê±°ë¦¬ë¥¼ ë‘˜ ìˆ˜ ìˆë‹¤. ëŒ€ë©´ì˜ ë¹„ìš© ì—†ì´ ê´€ê³„ë¥¼ ì¬ì¡°ì •í•œë‹¤.",
            evaluation: "positive",
            evalText: "í˜„ëª…í•œ ì„ íƒ. ë§í•˜ì§€ ì•Šê³ ë„ ê²½ê³„ë¥¼ ì„¸ì› ë‹¤.",
            score: 2,
            nextStage: "end"
          }
        ]
      },

      // Stage 3E: ì§ì ‘ ëŒ€ë©´ í›„ ì¶”ê°€ ìƒí™©
      {
        id: "revealed",
        context: "\"ë“¤ì—ˆì–´\"ë¼ê³  ë§í–ˆë‹¤. ë¯¼ì§€ê°€ ì‚¬ê³¼í–ˆì§€ë§Œ, ë¶„ìœ„ê¸°ê°€ ì„œë¨¹í•´ì¡Œë‹¤.",
        situation: "ë©°ì¹  í›„ íŒ€ íšŒì‹ì´ ìˆë‹¤. ë¯¼ì§€ ê·¸ë£¹ê³¼ ê°™ì€ í…Œì´ë¸”ì´ë‹¤.",
        choices: [
          {
            text: "í‰ì†Œì²˜ëŸ¼ ëŒ€í™”í•œë‹¤",
            outcome: "ì˜ì‹ì ìœ¼ë¡œ í‰ì†Œì²˜ëŸ¼ í–‰ë™í•œë‹¤. ì²˜ìŒì—” ì–´ìƒ‰í•˜ì§€ë§Œ, ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ í’€ë¦°ë‹¤. ì§ì¥ì¸ì˜ ê¸°ë³¸ê¸°ë‹¤.",
            principle: "í”„ë¡œí˜ì…”ë„ ë¦¬ì…‹",
            principleDesc: "ê°ì •ê³¼ ì—…ë¬´ë¥¼ ë¶„ë¦¬í•œë‹¤. ë¶ˆí¸í•´ë„ ê°™ì´ ì¼í•´ì•¼ í•˜ë©´, ì–´ëŠ ì •ë„ì˜ ì—°ê¸°ëŠ” í•„ìš”í•˜ë‹¤. ì‹œê°„ì´ í•´ê²°í•´ì£¼ê¸°ë„ í•œë‹¤.",
            evaluation: "positive",
            evalText: "ì„±ìˆ™í•œ ì„ íƒ. ê°ì •ë³´ë‹¤ ìƒí™©ì„ ìš°ì„ í–ˆë‹¤.",
            score: 2,
            nextStage: "end"
          },
          {
            text: "ë‹¤ë¥¸ í…Œì´ë¸”ë¡œ ê°„ë‹¤",
            outcome: "ëŒ€ë†“ê³  í”¼í•˜ëŠ” ëª¨ìŠµì´ íŒ€ ì „ì²´ì— ë³´ì¸ë‹¤. \"ìŸ¤ë„¤ ë¬´ìŠ¨ ì¼ ìˆì–´?\" ìƒˆë¡œìš´ ì†Œë¬¸ì˜ ì£¼ì¸ê³µì´ ëë‹¤.",
            principle: "ê³µê°œì  íšŒí”¼ì˜ ë¹„ìš©",
            principleDesc: "í”¼í•˜ëŠ” ëª¨ìŠµì´ ë³´ì´ë©´, ê·¸ ìì²´ê°€ ìƒˆë¡œìš´ ì´ì•¼ê¹ƒê±°ë¦¬ê°€ ëœë‹¤. ì°¨ë¼ë¦¬ í‰ì†Œì²˜ëŸ¼ í–‰ë™í•˜ëŠ” ê²Œ ê´€ì‹¬ì„ ëœ ë°›ëŠ”ë‹¤.",
            evaluation: "negative",
            evalText: "ì˜¤íˆë ¤ ì£¼ëª©ë°›ì•˜ë‹¤. í”¼í•˜ë ¤ë‹¤ ë” ëˆˆì— ë„ì—ˆë‹¤.",
            score: 0,
            nextStage: "end"
          },
          {
            text: "ì¼ì° ê°„ë‹¤ê³  í•˜ê³  ë‚˜ê°„ë‹¤",
            outcome: "ìì—°ìŠ¤ëŸ½ê²Œ ë¹ ì§„ë‹¤. ì•„ë¬´ë„ ì‹ ê²½ ì“°ì§€ ì•ŠëŠ”ë‹¤. ì–µì§€ë¡œ ë²„í‹¸ í•„ìš” ì—†ë‹¤.",
            principle: "ì „ëµì  í‡´ì¥",
            principleDesc: "ëª¨ë“  ìë¦¬ì— ëê¹Œì§€ ìˆì„ í•„ìš” ì—†ë‹¤. ë¶ˆí¸í•œ ìƒí™©ì„ í”¼í•˜ëŠ” ê²ƒë„ ì—ë„ˆì§€ ê´€ë¦¬ë‹¤. ë‹¨, ìŠµê´€ì´ ë˜ë©´ ê³ ë¦½ëœë‹¤.",
            evaluation: "neutral",
            evalText: "ë¬´ë‚œí•œ ì„ íƒ. í•˜ì§€ë§Œ ë§¤ë²ˆ ì´ëŸ¬ë©´ ì•ˆ ëœë‹¤.",
            score: 1,
            nextStage: "end"
          }
        ]
      },

      // Stage 3F: ì§ì ‘ ì§ˆë¬¸ í›„
      {
        id: "asked_directly",
        context: "\"ë¬´ìŠ¨ ì–˜ê¸° í•˜ê³  ìˆì—ˆì–´?\"ë¼ê³  ë¬¼ì—ˆì§€ë§Œ, \"ê·¸ëƒ¥ íšŒì‚¬ ì–˜ê¸°\"ë¼ëŠ” ë‹µë§Œ ëŒì•„ì™”ë‹¤.",
        situation: "ì§„ì‹¤ë„ ëª» ì–»ê³  ë¶„ìœ„ê¸°ë§Œ ì–´ìƒ‰í•´ì¡Œë‹¤. ì–´ë–»ê²Œ ìˆ˜ìŠµí• ê¹Œ?",
        choices: [
          {
            text: "\"ì•„ ê·¸ë˜?\" í•˜ê³  ìì—°ìŠ¤ëŸ½ê²Œ ë„˜ê¸´ë‹¤",
            outcome: "ë” íŒŒê³ ë“¤ì§€ ì•Šê³  ë„˜ì–´ê°„ë‹¤. ì–´ìƒ‰í•¨ì´ ì•½ê°„ í’€ë¦°ë‹¤. ìµœì„ ì€ ì•„ë‹ˆì§€ë§Œ, ìµœì•…ì€ ë©´í–ˆë‹¤.",
            principle: "ì†ì‹¤ ìµœì†Œí™”",
            principleDesc: "ì´ë¯¸ ì˜ëª»ëœ ìƒí™©ì—ì„œëŠ” ë” ë‚˜ë¹ ì§€ì§€ ì•Šê²Œ í•˜ëŠ” ê²Œ ìµœì„ ì´ë‹¤. ì‹¤ìˆ˜ë¥¼ ì¸ì •í•˜ê³  ë¹ ë¥´ê²Œ ìˆ˜ìŠµí•œë‹¤.",
            evaluation: "positive",
            evalText: "ì†ì ˆì„ ì˜í–ˆë‹¤. ë” íŒŒë©´ ë” ì–´ìƒ‰í•´ì¡Œì„ ê²ƒ.",
            score: 2,
            nextStage: "end"
          },
          {
            text: "\"ì§„ì§œ? ë‚´ ì–˜ê¸° ì•„ë‹ˆì—ˆì–´?\"ë¼ê³  ë‹¤ì‹œ ë¬»ëŠ”ë‹¤",
            outcome: "\"ì•„ë‹ˆì•¼, ì™œ ê·¸ë˜?\" ë¯¼ì§€ê°€ ì˜ì•„í•´í•œë‹¤. ì´ì œ ë‹¹ì‹ ì´ í”¼í•´ë§ìƒ ìˆëŠ” ì‚¬ëŒì²˜ëŸ¼ ë³´ì¸ë‹¤.",
            principle: "ê³¼ì‰ ì¶”ê¶ì˜ ì—­íš¨ê³¼",
            principleDesc: "ì¦ê±° ì—†ì´ ê³„ì† ì˜ì‹¬í•˜ë©´, ìƒëŒ€ê°€ ì•„ë‹ˆë¼ ë‹¹ì‹ ì´ ë¬¸ì œê°€ ëœë‹¤. 'ê±” ì™œ ì €ë˜?'ì˜ ì£¼ì¸ê³µì´ ëœë‹¤.",
            evaluation: "negative",
            evalText: "ìµœì•…ì˜ ì„ íƒ. ì´ì œ ë‹¹ì‹ ì´ ì´ìƒí•œ ì‚¬ëŒì´ ëë‹¤.",
            score: 0,
            nextStage: "end"
          },
          {
            text: "ê·¸ëƒ¥ ë‚˜ì˜¨ë‹¤. ë¨¸ë¦¬ ì‹íˆëŸ¬",
            outcome: "ì¼ë‹¨ ê·¸ ìë¦¬ë¥¼ ë²—ì–´ë‚œë‹¤. ëƒ‰ì •í•´ì§€ë‹ˆ êµ³ì´ ëŒ€ì‘í•  í•„ìš” ì—†ì—ˆë‹¤ëŠ” ìƒê°ì´ ë“ ë‹¤.",
            principle: "ê°ì •ì  ê±°ë¦¬ë‘ê¸°",
            principleDesc: "í™”ê°€ ë‚  ë•Œ ë°”ë¡œ í–‰ë™í•˜ë©´ í›„íšŒí•œë‹¤. ì¼ë‹¨ ë¬¼ë¦¬ì ìœ¼ë¡œ ë–¨ì–´ì§€ë©´ ìƒê°ì´ ì •ë¦¬ëœë‹¤.",
            evaluation: "neutral",
            evalText: "ë‚˜ì˜ì§€ ì•Šì€ ì„ íƒ. ì¿¨ë‹¤ìš´ì´ í•„ìš”í–ˆë‹¤.",
            score: 1,
            nextStage: "end"
          }
        ]
      }
    ];

    // ê²Œì„ ìƒíƒœ
    let currentStageIndex = 0;
    let currentScenario = scenarios[0];
    let score = 0;
    let totalStages = 0;
    let collectedPrinciples = [];
    let stageHistory = ['start'];

    // DOM ìš”ì†Œ
    const gameScreen = document.getElementById('game-screen');
    const finalScreen = document.getElementById('final-screen');
    const progressBar = document.getElementById('progress');
    const stageLabel = document.getElementById('stage-label');
    const contextEl = document.getElementById('context');
    const situationEl = document.getElementById('situation');
    const choicesEl = document.getElementById('choices');
    const resultSection = document.getElementById('result-section');
    const selectedBadge = document.getElementById('selected-badge');
    const selectedText = document.getElementById('selected-text');
    const outcomeText = document.getElementById('outcome-text');
    const principleName = document.getElementById('principle-name');
    const principleExplanation = document.getElementById('principle-explanation');
    const evaluationCard = document.getElementById('evaluation-card');
    const evaluationIcon = document.getElementById('evaluation-icon');
    const evaluationText = document.getElementById('evaluation-text');
    const otherToggle = document.getElementById('other-toggle');
    const otherContent = document.getElementById('other-choices-content');
    const nextBtn = document.getElementById('next-btn');

    // ì´ˆê¸°í™”
    function init() {
      currentStageIndex = 0;
      currentScenario = scenarios[0];
      score = 0;
      totalStages = 0;
      collectedPrinciples = [];
      stageHistory = ['start'];
      
      gameScreen.classList.remove('hidden');
      finalScreen.classList.remove('show');
      
      renderStage();
    }

    // ìŠ¤í…Œì´ì§€ ë Œë”ë§
    function renderStage() {
      const scenario = currentScenario;
      totalStages++;
      
      // ì§„í–‰ë°” ì—…ë°ì´íŠ¸
      updateProgress();
      
      stageLabel.textContent = `ìƒí™© ${totalStages}`;
      contextEl.textContent = scenario.context;
      situationEl.innerHTML = scenario.situation.replace(/\n/g, '<br>');
      
      // ì„ íƒì§€ ë Œë”ë§
      choicesEl.innerHTML = '';
      scenario.choices.forEach((choice, index) => {
        const btn = document.createElement('button');
        btn.className = 'choice-btn';
        btn.textContent = choice.text;
        btn.addEventListener('click', () => handleChoice(index));
        choicesEl.appendChild(btn);
      });
      
      // ê²°ê³¼ ì„¹ì…˜ ìˆ¨ê¸°ê¸°
      resultSection.classList.remove('show');
      choicesEl.classList.remove('hidden');
    }

    // ì§„í–‰ë°” ì—…ë°ì´íŠ¸
    function updateProgress() {
      const maxStages = 3;
      progressBar.innerHTML = '';
      for (let i = 0; i < maxStages; i++) {
        const bar = document.createElement('div');
        bar.className = 'progress-bar';
        if (i < totalStages - 1) bar.classList.add('completed');
        else if (i === totalStages - 1) bar.classList.add('current');
        progressBar.appendChild(bar);
      }
    }

    // ì„ íƒ ì²˜ë¦¬
    function handleChoice(index) {
      const choice = currentScenario.choices[index];
      
      // ì ìˆ˜ ì¶”ê°€
      score += choice.score;
      
      // ì›ì¹™ ìˆ˜ì§‘
      collectedPrinciples.push({
        name: choice.principle,
        desc: choice.principleDesc,
        evaluation: choice.evaluation
      });
      
      // ì„ íƒì§€ ìˆ¨ê¸°ê¸°
      choicesEl.classList.add('hidden');
      
      // ê²°ê³¼ í‘œì‹œ
      selectedText.textContent = choice.text;
      
      // ë±ƒì§€ ì„¤ì •
      if (choice.score === 2) {
        selectedBadge.textContent = 'ìµœì ì˜ ìˆ˜';
        selectedBadge.className = 'selected-badge optimal';
      } else if (choice.score === 1) {
        selectedBadge.textContent = 'ì¤‘ë¦½';
        selectedBadge.className = 'selected-badge neutral';
      } else {
        selectedBadge.textContent = 'ìµœì•…ì˜ ìˆ˜';
        selectedBadge.className = 'selected-badge bad';
      }
      
      outcomeText.textContent = choice.outcome;
      principleName.textContent = choice.principle;
      principleExplanation.textContent = choice.principleDesc;
      
      // í‰ê°€ ì¹´ë“œ
      evaluationCard.className = 'evaluation-card ' + choice.evaluation;
      if (choice.evaluation === 'positive') {
        evaluationIcon.textContent = 'âœ…';
      } else if (choice.evaluation === 'neutral') {
        evaluationIcon.textContent = 'âš ï¸';
      } else {
        evaluationIcon.textContent = 'âŒ';
      }
      evaluationText.textContent = choice.evalText;
      
      // ë‹¤ë¥¸ ì„ íƒì§€ í‘œì‹œ
      renderOtherChoices(index);
      
      // ë‹¤ìŒ ë²„íŠ¼
      if (choice.nextStage === 'end') {
        nextBtn.textContent = 'ê²°ê³¼ ë³´ê¸°';
      } else {
        nextBtn.textContent = 'ë‹¤ìŒ ìƒí™©';
      }
      
      // ê²°ê³¼ ì„¹ì…˜ í‘œì‹œ
      resultSection.classList.add('show');
      
      // ë‹¤ìŒ ìŠ¤í…Œì´ì§€ ì €ì¥
      stageHistory.push(choice.nextStage);
    }

    // ë‹¤ë¥¸ ì„ íƒì§€ ë Œë”ë§
    function renderOtherChoices(selectedIndex) {
      otherContent.innerHTML = '';
      otherContent.classList.add('hidden');
      otherToggle.classList.remove('open');
      
      currentScenario.choices.forEach((choice, index) => {
        if (index === selectedIndex) return;
        
        const card = document.createElement('div');
        card.className = 'other-choice-card';
        
        let badgeText, badgeClass;
        if (choice.score === 2) {
          badgeText = 'ìµœì ì˜ ìˆ˜';
          badgeClass = 'positive';
        } else if (choice.score === 1) {
          badgeText = 'ì¤‘ë¦½';
          badgeClass = 'neutral';
        } else {
          badgeText = 'ìµœì•…ì˜ ìˆ˜';
          badgeClass = 'negative';
        }
        
        card.innerHTML = `
          <div class="other-choice-header">
            <span class="eval-badge ${badgeClass}">${badgeText}</span>
          </div>
          <div class="other-choice-text">${choice.text}</div>
          <div class="other-choice-principle">${choice.principle}</div>
        `;
        
        otherContent.appendChild(card);
      });
    }

    // ë‹¤ë¥¸ ì„ íƒì§€ í† ê¸€
    otherToggle.addEventListener('click', () => {
      otherToggle.classList.toggle('open');
      otherContent.classList.toggle('hidden');
    });

    // ë‹¤ìŒ ë²„íŠ¼
    nextBtn.addEventListener('click', () => {
      const nextStageId = stageHistory[stageHistory.length - 1];
      
      if (nextStageId === 'end') {
        showFinalResult();
      } else {
        currentScenario = scenarios.find(s => s.id === nextStageId);
        if (currentScenario) {
          renderStage();
        } else {
          showFinalResult();
        }
      }
    });

    // ìµœì¢… ê²°ê³¼
    function showFinalResult() {
      gameScreen.classList.add('hidden');
      finalScreen.classList.add('show');
      
      const maxScore = totalStages * 2;
      document.getElementById('score-number').textContent = score;
      document.querySelector('.score-total').textContent = '/' + maxScore;
      
      // ë©”ì‹œì§€
      const percentage = score / maxScore;
      let message;
      if (percentage >= 0.8) {
        message = "ë›°ì–´ë‚œ ì‹¬ë¦¬ì „ ê°ê°ì…ë‹ˆë‹¤! ìƒí™©ì„ ì •í™•íˆ ì½ê³  ìµœì ì˜ ìˆ˜ë¥¼ ì°¾ì•˜ë„¤ìš”. ê´€ê³„ë¥¼ ë‹¤ë£¨ëŠ” ë° íƒì›”í•œ ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.";
      } else if (percentage >= 0.5) {
        message = "ê´œì°®ì€ ê°ê°ì´ì—ìš”! ëª‡ ê°€ì§€ ìƒí™©ì—ì„œ ë” ì „ëµì ì¸ ì„ íƒì´ ê°€ëŠ¥í–ˆì§€ë§Œ, ê¸°ë³¸ì ì¸ ì‹¬ë¦¬ ì›ì¹™ì€ ì´í•´í•˜ê³  ìˆë„¤ìš”.";
      } else {
        message = "ì•„ì§ ê°ì´ ëœ ì¡í˜”ì–´ìš”. í•˜ì§€ë§Œ ê±±ì • ë§ˆì„¸ìš” â€” ì‹¬ë¦¬ì „ì€ íƒ€ê³ ë‚˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ë°°ìš°ëŠ” ê²ë‹ˆë‹¤. ë‹¤ì‹œ í•´ë³´ë©´ì„œ íŒ¨í„´ì„ ìµí˜€ë³´ì„¸ìš”.";
      }
      document.getElementById('score-message').textContent = message;
      
      // ì›ì¹™ ëª©ë¡
      const principlesList = document.getElementById('principles-list');
      principlesList.innerHTML = '';
      collectedPrinciples.forEach(p => {
        let icon;
        if (p.evaluation === 'positive') icon = 'ğŸŸ¢';
        else if (p.evaluation === 'neutral') icon = 'ğŸŸ¡';
        else icon = 'ğŸ”´';
        
        const item = document.createElement('div');
        item.className = 'principle-item';
        item.innerHTML = `
          <div class="principle-item-icon">${icon}</div>
          <div class="principle-item-content">
            <div class="principle-item-name">${p.name}</div>
            <div class="principle-item-desc">${p.desc}</div>
          </div>
        `;
        principlesList.appendChild(item);
      });
      
      // í”„ë¡œí•„ ì €ì¥
      saveProgress();
      
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // í”„ë¡œí•„ ì €ì¥
    function saveProgress() {
      const STORAGE_KEY = 'eclipse_mindlab_profile';
      let saved = localStorage.getItem(STORAGE_KEY);
      let profile;
      
      if (saved) {
        profile = JSON.parse(saved);
      } else {
        profile = { version: 5, name: 'ìµëª… íƒí—˜ê°€', level: 1, exp: 0, completedSims: [], principles: [] };
      }
      
      if (!profile.completedSims) profile.completedSims = [];
      if (!profile.principles) profile.principles = [];
      
      // ì™„ë£Œ ê¸°ë¡
      if (!profile.completedSims.includes('gossip')) {
        profile.completedSims.push('gossip');
        profile.exp = (profile.exp || 0) + 30;
      }
      
      // ì›ì¹™ ì¶”ê°€
      collectedPrinciples.forEach(p => {
        const principleStr = p.name;
        if (!profile.principles.includes(principleStr) && 
            !profile.principles.find(existing => (typeof existing === 'object' ? existing.name : existing) === principleStr)) {
          profile.principles.push(principleStr);
        }
      });
      
      localStorage.setItem(STORAGE_KEY, JSON.stringify(profile));
    }

    // ê³µìœ 
    document.getElementById('native-share-btn').addEventListener('click', async () => {
      const maxScore = totalStages * 2;
      const text = `ì‹¬ë¦¬ì „ ì‹œë®¬ë ˆì´í„° - ğŸ¯ ë‚˜ì˜ ì‹¬ë¦¬ì „ ì ìˆ˜: ${score}/${maxScore}ì \në‹¹ì‹ ì˜ ì‹¬ë¦¬ì „ ê°ê°ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!\nhttps://eclipse-mindlab.github.io/mindlab/sim-gossip.html`;
      
      if (navigator.share) {
        try {
          await navigator.share({ title: 'ì‹¬ë¦¬ì „ ì‹œë®¬ë ˆì´í„°', text: text });
        } catch (e) {}
      } else {
        try {
          await navigator.clipboard.writeText(text);
          alert('ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        } catch (e) {
          alert('ê³µìœ  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        }
      }
    });

    document.getElementById('copy-btn').addEventListener('click', async () => {
      const maxScore = totalStages * 2;
      const text = `ì‹¬ë¦¬ì „ ì‹œë®¬ë ˆì´í„° - ğŸ¯ ë‚˜ì˜ ì‹¬ë¦¬ì „ ì ìˆ˜: ${score}/${maxScore}ì \në‹¹ì‹ ì˜ ì‹¬ë¦¬ì „ ê°ê°ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!\nhttps://eclipse-mindlab.github.io/mindlab/sim-gossip.html`;
      try {
        await navigator.clipboard.writeText(text);
        alert('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
      } catch (e) {
        alert('ë³µì‚¬ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      }
    });

    // ë‹¤ì‹œí•˜ê¸°
    document.getElementById('restart-btn').addEventListener('click', () => {
      init();
    });

    // ì‹œì‘
    init();
  </script>
</body>
</html>
