<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>가스라이팅 시뮬레이터 - 이클립스의 딜렘</title>
  
  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#6d5dbc">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  <!-- SEO -->
  <meta name="description" content="연인이 말한다. '네가 예민한 거야.' 정말 그럴까?">
  <meta property="og:title" content="가스라이팅 시뮬레이터 - 이클립스의 딜렘">
  <meta property="og:description" content="연인이 말한다. '네가 예민한 거야.' 정말 그럴까?">
  <meta property="og:image" content="https://eclipse-mindlab.github.io/mindlab/og-image.png">
  
  <link rel="stylesheet" href="sim-template.css">
</head>
<body>
  <div class="sim-container">
    <div class="sim-header">
      <a href="index.html" class="sim-back-btn">←</a>
      <div class="sim-header-title">가스라이팅</div>
    </div>
    <div id="gameScreen">
      <div class="sim-progress">
        <div class="sim-progress-label">
          <span id="stageLabel">STAGE 1</span>
          <span id="stageCount">1/5</span>
        </div>
        <div class="sim-progress-bar">
          <div class="sim-progress-fill" id="progressFill" style="width: 20%"></div>
        </div>
      </div>
      <div class="sim-stage-badge" id="stageBadge">STAGE 1</div>
      <div class="sim-situation">
        <div class="sim-situation-title" id="situationTitle"></div>
        <div class="sim-situation-desc" id="situationDesc"></div>
        <div class="sim-situation-highlight hidden" id="situationHighlight"></div>
        <div class="sim-situation-quote hidden" id="situationQuote"></div>
      </div>
      <div class="sim-choices" id="choices"></div>
    </div>
    <div id="explanationScreen" class="hidden">
      <div class="sim-explanation-card">
        <div class="sim-explanation-label">당신의 선택</div>
        <div class="sim-explanation-title" id="yourChoice"></div>
      </div>
      <div class="sim-explanation-card" id="meaningCard">
        <div class="sim-explanation-label">이 선택이 의미하는 것</div>
        <div class="sim-explanation-desc" id="choiceMeaning"></div>
      </div>
      <div class="sim-principle-card hidden" id="principleCard">
        <div class="sim-principle-header">
          <span class="sim-principle-icon">💡</span>
          <span>발견한 원칙</span>
        </div>
        <div class="sim-principle-name" id="principleName"></div>
        <div class="sim-principle-desc" id="principleDesc"></div>
      </div>
      <div class="sim-quote-card hidden" id="quoteCard">
        <span class="sim-quote-icon">💬</span>
        <span class="sim-quote-text" id="quoteText"></span>
      </div>
      <button class="sim-next-btn" id="nextBtn">다음으로</button>
    </div>
    <div id="resultScreen" class="hidden">
      <div class="sim-result-card">
        <div class="sim-result-icon" id="resultIcon">🪞</div>
        <div class="sim-result-label" id="resultLabel">당신의 대응 유형</div>
        <div class="sim-result-title" id="resultTitle"></div>
        <div class="sim-result-desc" id="resultDesc"></div>
        <div class="sim-result-stats hidden" id="resultStats"></div>
      </div>
      <div class="sim-principles-list hidden" id="principlesList"></div>
      <div class="sim-actions">
        <button class="sim-action-btn primary" id="shareBtn">결과 공유하기</button>
        <a href="index.html" class="sim-action-btn secondary">홈으로 돌아가기</a>
      </div>
      <div class="sim-promo">
        <div class="sim-promo-title">이 시뮬레이터의 바탕이 된 철학과 심리학이 궁금하다면</div>
        <div class="sim-books" style="margin-top: 24px;">
          
          <div class="sim-books-grid">
            <a href="https://litt.ly/eclipse.thinker" target="_blank" class="sim-book-item">
              <img src="book-philosophy.png" alt="훔친 철학 편" class="sim-book-cover">
              <div class="sim-book-title">훔친 철학 편</div>
            </a>
            <a href="https://litt.ly/eclipse.thinker" target="_blank" class="sim-book-item">
              <img src="book-psychology.png" alt="훔친 심리학 편" class="sim-book-cover">
              <div class="sim-book-title">훔친 심리학 편</div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script src="sim-template.js"></script>
  <script>
    const CONFIG = {
      id: 'gaslighting',
      title: '가스라이팅 시뮬레이터',
      shareIcon: '🪞',
      shareUrl: 'https://eclipse-mindlab.github.io/mindlab/sim-gaslighting.html',
      
      stages: [
        {
          badge: '1개월 차',
          title: '사라진 약속',
          desc: `연인과 사귄 지 석 달째.

지난주에 분명 주말에 같이 영화 보기로 했다. 카톡으로 "토요일 저녁 7시" 라고까지 했다.

토요일 오후. 연락이 없다. 저녁 6시에 전화했더니 친구들이랑 술 마시고 있다.

"무슨 소리야, 약속 안 했는데? 네가 혼자 정한 거 아니야?"

카톡을 확인하려는데, 대화방에 그 메시지가 없다. 삭제된 건지, 내가 착각한 건지.`,
          highlight: '분명 약속했는데... 내가 착각한 건가?',
          choices: [
            {
              id: 'confront1',
              text: '"분명 약속했어. 카톡에서 확인했었다고."',
              meaning: '당신은 자신의 기억을 믿었습니다. 상대는 "또 시작이네, 왜 이렇게 집착해?" 라고 반응합니다. 당신이 문제인 것처럼.',
              principle: { name: '현실 부정', desc: '가스라이터의 가장 기본적인 전략. 실제로 일어난 일을 "그런 적 없다"고 부정해서 상대의 기억과 판단력을 흔든다.', icon: '🚫' },
              quote: '"가스라이팅의 핵심은 피해자가 자기 현실을 불신하게 만드는 것이다." - 로빈 스턴'
            },
            {
              id: 'doubt1',
              text: '"그랬나... 내가 착각했나 봐. 미안."',
              meaning: '당신은 자신의 기억을 의심했습니다. 상대는 "그러니까, 좀 확인하고 말해" 라며 당신을 가르칩니다. 첫 번째 양보가 시작되었습니다.',
              principle: { name: '자기 의심의 씨앗', desc: '가스라이팅의 초기 단계. 작은 일에서 자신의 기억이나 판단을 의심하기 시작하면, 점점 더 큰 일에서도 상대에게 의존하게 된다.', icon: '🌱' },
              quote: '"처음에는 작은 양보처럼 느껴진다. 나중에는 자기 자신이 사라진다." - 가스라이팅 연구'
            },
            {
              id: 'check1',
              text: '"잠깐, 카톡 다시 확인해볼게."',
              meaning: '당신은 증거를 찾으려 했습니다. 상대는 한숨을 쉬며 "진짜 피곤하다. 매번 이렇게 증거 찾듯이 할 거야?" 합니다. 확인하는 행위 자체가 비난받습니다.',
              principle: { name: '증거 무력화', desc: '가스라이터는 증거를 찾으려는 시도 자체를 비정상적인 행동으로 몰아간다. "너 왜 이렇게 의심이 많아?"', icon: '🔍' }
            }
          ]
        },
        {
          badge: '3개월 차',
          title: '줄어드는 세계',
          desc: `요즘 친구들을 못 만나고 있다.

만나려고 하면 연인이 기분이 안 좋아진다. 대놓고 막지는 않는다. 다만...

"가도 돼. 근데 요즘 우리 시간도 없는데... 난 괜찮아."

지난번에 친구를 만났더니 다음 날 하루 종일 연락이 없었다. 물어보니까 "바빴어" 라고만 했다.

오늘 대학 동기들이 모인다고 연락 왔다. 가고 싶다.`,
          highlight: '대놓고 막지 않는다. 다만 만날 때마다 대가가 따른다.',
          choices: [
            {
              id: 'go2',
              text: '"동기 모임 간다. 오래 안 걸려."',
              meaning: '당신은 갔습니다. 하지만 모임 내내 불안했습니다. "돌아가면 또 분위기가 싸할 텐데." 즐거워야 할 시간이 불안으로 채워졌습니다.',
              principle: { name: '조건부 허용', desc: '직접적으로 금지하지 않으면서 심리적 불이익을 줘서 행동을 통제하는 방식. "가도 돼"라고 말하지만, 갈 때마다 감정적 비용을 치르게 만든다.', icon: '⛓️' },
              quote: '"통제는 금지가 아니라 비용으로 작동한다." - 런디 밴크로프트'
            },
            {
              id: 'cancel2',
              text: '"오늘은 안 갈게. 우리 같이 있자."',
              meaning: '당신은 연인을 선택했습니다. 연인은 기분이 좋아 보입니다. 하지만 동기들은 점점 연락을 안 하게 됩니다. 당신의 세계가 조금 더 좁아졌습니다.',
              principle: { name: '사회적 고립', desc: '가스라이팅의 핵심 도구. 주변 사람과의 연결을 끊으면 피해자는 가스라이터에게만 의존하게 된다. 비교 대상이 사라지면 비정상이 정상이 된다.', icon: '🏝️' }
            },
            {
              id: 'invite2',
              text: '"같이 갈래? 내 친구들 만나보는 것도 좋잖아."',
              meaning: '당신은 타협안을 제시했습니다. 연인은 "네 친구들이 날 싫어하잖아"라고 합니다. 언제 그런 말을 들었는지 기억이 안 나지만, 그런가 싶습니다.',
              principle: { name: '피해자 역할 전환', desc: '가스라이터가 자신을 피해자로 포지셔닝하는 전략. "네 친구들이 날 싫어해"라는 프레임을 씌우면 당신이 연인을 보호해야 하는 구도가 된다.', icon: '🔄' }
            }
          ]
        },
        {
          badge: '6개월 차',
          title: '감정의 검열',
          desc: `연인이 또 약속을 어겼다.

기념일을 잊었다. 괜찮다고 넘기려 했지만 속상한 건 사실이다.

조심스럽게 말했다. "솔직히 좀 서운했어."

연인의 반응:

"또? 맨날 서운하다, 속상하다... 너 진짜 힘들다. 나도 힘들어. 너 때문에."

순간 당신이 잘못한 것 같은 기분이 든다. 서운하다고 말한 게 공격이었나?`,
          highlight: '감정을 표현했을 뿐인데, 당신이 가해자가 되었다.',
          choices: [
            {
              id: 'persist3',
              text: '"내 감정을 말한 건데. 이게 왜 네가 힘든 거야?"',
              meaning: '당신은 자신의 감정을 지켰습니다. 연인은 "그래, 맨날 네 감정만 중요하지. 나는?" 이라고 합니다. 대화가 끝없이 돌아갑니다.',
              principle: { name: '감정 전가', desc: '상대의 정당한 감정 표현을 공격으로 재해석하는 기술. "네가 서운하다고 하면 나는 어떡해?"로 전환하면, 감정을 표현한 쪽이 가해자가 된다.', icon: '🎭' },
              quote: '"건강한 관계에서는 감정 표현이 환영받는다. 독성 관계에서는 처벌받는다." - 샤히다 아라비'
            },
            {
              id: 'apologize3',
              text: '"미안... 내가 너무 예민했나 봐."',
              meaning: '당신은 사과했습니다. 상대가 약속을 어겨놓고, 당신이 사과하고 있습니다. 이것이 반복되면 감정 자체를 느끼는 것이 죄가 됩니다.',
              principle: { name: '감정 검열', desc: '반복적으로 감정 표현이 거부당하면 스스로 감정을 검열하기 시작한다. "이걸 말하면 또 싸우겠지"가 습관이 되면, 당신의 감정은 사라진 게 아니라 묻힌 것이다.', icon: '🔇' }
            },
            {
              id: 'silence3',
              text: '"...아니야, 아무것도 아니야."',
              meaning: '당신은 입을 닫았습니다. 연인은 안심한 표정입니다. 당신은 평화를 얻었지만, 속은 더 복잡해졌습니다. 말해도 안 되고, 안 해도 답답하고.',
              principle: { name: '학습된 침묵', desc: '감정 표현이 반복적으로 역효과를 낳으면 침묵을 학습하게 된다. 이것은 평화가 아니라 포기다. 진짜 위험 신호는 "화가 나지 않는 것"이 아니라 "화가 나는데 말할 수 없는 것"이다.', icon: '🤐' }
            }
          ]
        },
        {
          badge: '9개월 차',
          title: '거울 속 낯선 사람',
          desc: `요즘 스스로가 이상하다.

예전에는 확실했던 것들이 흐릿하다. 내 기억이 맞는지 모르겠고, 내 감정이 정당한 건지도 모르겠다.

친구가 오랜만에 연락했다.

"요즘 너 좀 달라진 것 같아. 괜찮아?"

연인에게는 이런 말을 들었다.

"너 요즘 너무 좋아졌어. 예전엔 예민하고 힘들었는데, 지금이 진짜 너야."`,
          highlight: '연인은 "좋아졌다"고 한다. 친구는 "달라졌다"고 한다. 누구 말이 맞는가?',
          choices: [
            {
              id: 'friend4',
              text: '친구에게 솔직하게 털어놓는다.',
              meaning: '당신은 외부 시선을 받아들였습니다. 친구는 말합니다. "그 사람이 너한테 하는 거, 정상이 아니야." 오랜만에 누군가가 당신 편입니다.',
              principle: { name: '외부 현실 검증', desc: '가스라이팅에서 벗어나는 가장 강력한 도구는 외부 관점이다. 고립되면 가스라이터의 현실이 유일한 현실이 된다. 제3자의 시선은 거울이 된다.', icon: '🪟' },
              quote: '"고립을 깨는 것이 가스라이팅에서 벗어나는 첫 번째 단계다." - 스테파니 사르키스'
            },
            {
              id: 'partner4',
              text: '"맞아, 내가 좀 예민했었지. 지금이 더 나은 거지."',
              meaning: '당신은 연인의 프레임을 받아들였습니다. "예민했던 예전의 나"가 문제였고, "순응하는 지금의 나"가 진짜라고. 하지만 그 "예민함"은 정당한 경계심이었습니다.',
              principle: { name: '자아 침식', desc: '가스라이팅이 장기화되면 피해자는 가스라이터의 평가를 자기 정체성으로 내면화한다. "내가 예민한 사람이었구나"를 진심으로 믿게 된다.', icon: '🌊' }
            },
            {
              id: 'confused4',
              text: '"모르겠어. 누구 말이 맞는 건지."',
              meaning: '당신은 혼란 속에 있습니다. 이것이 바로 가스라이팅의 목적입니다. 자기 판단을 할 수 없게 만드는 것. 무엇이 진실인지 모르는 상태가 통제의 완성입니다.',
              principle: { name: '인지적 안개', desc: '지속적인 현실 왜곡에 노출되면 판단력 자체가 흐려진다. "모르겠다"가 입버릇이 되면 이미 가스라이팅이 깊이 작동하고 있는 것이다.', icon: '🌫️' }
            }
          ]
        },
        {
          badge: '분기점',
          title: '나를 되찾을 것인가',
          desc: `1년이 다 되어간다.

오늘, 연인과 또 다퉜다. 아니, 다툼인지도 모르겠다. 당신이 뭘 잘못했는지도 모르겠다. 그냥 또 당신이 사과했다.

집에 돌아와서 거울을 본다. 1년 전의 나와 지금의 내가 같은 사람인가?

예전에 적어둔 일기가 있다. 펼쳐본다.

"오늘 기분이 좋다. 내 판단을 믿는다. 나는 괜찮은 사람이다."

이 글을 쓴 사람이 낯설다.`,
          highlight: '1년 전의 당신이 지금의 당신에게 묻는다. "넌 괜찮아?"',
          choices: [
            {
              id: 'leave5',
              text: '이 관계를 끝내기로 결심한다.',
              meaning: '당신은 떠나기로 했습니다. 쉽지 않을 겁니다. 연인은 울며 "내가 바뀔게, 제발" 이라고 할 겁니다. 또는 "너 나 없으면 아무것도 못해"라고 할 겁니다. 하지만 당신은 1년 전의 일기를 기억합니다.',
              principle: { name: '탈출의 결단', desc: '가스라이팅 관계를 끝내는 것은 단순한 이별이 아니다. 자신의 현실 인식을 되찾는 행위다. 가장 어려운 점은 "이 사람 없이는 안 될 것 같은" 의존감 자체가 가스라이팅의 산물이라는 것이다.', icon: '🚪' },
              quote: '"떠나는 것은 포기가 아니다. 자신을 되찾는 것이다." - 섀넌 토마스'
            },
            {
              id: 'confront5',
              text: '"우리 관계에 문제가 있어. 같이 상담받자."',
              meaning: '당신은 관계를 살리되 문제를 직면하려 합니다. 가스라이터가 상담에 동의할 확률은 낮습니다. "상담? 네가 문제인데 왜 내가 가?" 하지만 시도하는 것 자체가 당신의 판단력이 살아있다는 증거입니다.',
              principle: { name: '경계의 재설정', desc: '가스라이팅 관계에서 경계를 세우는 것은 가능하지만, 상대가 변화를 원해야 한다. 전문 상담은 제3자의 현실 검증이 되기도 한다. 다만 상대가 거부하면 그 자체가 답이다.', icon: '🛡️' }
            },
            {
              id: 'stay5',
              text: '"아직은 모르겠어. 좀 더 지켜보자."',
              meaning: '당신은 기다리기로 했습니다. "좀 더 확인해보자"는 합리적으로 들리지만, 가스라이팅의 특성상 시간이 갈수록 판단력은 더 흐려집니다. 오늘의 "좀 더"가 내일의 "좀 더"가 되고, 1년이 또 지나갑니다.',
              principle: { name: '매몰 비용의 함정', desc: '"이미 이만큼 투자했는데"라는 생각이 떠나지 못하게 만든다. 하지만 과거에 쏟은 시간은 미래를 결정할 이유가 되지 않는다. 중요한 건 "지금부터" 어떤 삶을 살 것인가다.', icon: '⏳' }
            }
          ]
        }
      ],
      
      calculateResult(choices, principles) {
        // 각 선택의 "자기 보존" 점수
        const selfScores = {
          confront1: 2, doubt1: 0, check1: 1,
          go2: 2, cancel2: 0, invite2: 1,
          persist3: 2, apologize3: 0, silence3: 0,
          friend4: 2, partner4: 0, confused4: 1,
          leave5: 2, confront5: 2, stay5: 0
        };
        
        let selfScore = 0;
        choices.forEach(c => { selfScore += selfScores[c.choiceId] || 0; });
        
        // 흡수된 횟수 (doubt, cancel, apologize, partner, stay)
        const absorbed = ['doubt1', 'cancel2', 'apologize3', 'partner4', 'stay5'];
        const absorbedCount = choices.filter(c => absorbed.includes(c.choiceId)).length;
        
        if (selfScore >= 8) {
          return {
            icon: '🛡️',
            label: '당신의 대응 유형',
            title: '흔들리지 않는 자아',
            desc: '당신은 대부분의 상황에서 자신의 현실 인식을 지켰습니다.\n\n이것은 쉬운 일이 아닙니다. 가스라이팅은 "사랑"이라는 포장 안에서 작동하기 때문에, 저항하는 순간 "넌 날 사랑하지 않는 거야"라는 2차 공격이 따라옵니다.\n\n당신의 강점은 외부 관점을 유지하고 자기 감정을 신뢰한 것입니다.',
            stats: [
              { value: selfScore + '/10', label: '자기 보존 점수' },
              { value: principles.length, label: '발견한 원칙' }
            ]
          };
        } else if (selfScore >= 5) {
          return {
            icon: '⚖️',
            label: '당신의 대응 유형',
            title: '흔들렸지만 깨어있는 사람',
            desc: '당신은 흔들리면서도 완전히 무너지지 않았습니다.\n\n가스라이팅의 무서운 점은 "좋은 사람"일수록 취약하다는 것입니다. 공감 능력이 높고, 관계를 중시하고, 상대의 말을 진지하게 받아들이는 사람.\n\n당신이 양보한 순간들은 나약함이 아니라 선함이었습니다. 다만 그 선함을 이용당하지 않는 법을 배워야 합니다.',
            stats: [
              { value: selfScore + '/10', label: '자기 보존 점수' },
              { value: absorbedCount, label: '흡수된 순간' }
            ]
          };
        } else {
          return {
            icon: '🌊',
            label: '당신의 대응 유형',
            title: '안개 속에 있는 사람',
            desc: '당신은 많은 순간에서 상대의 현실을 받아들였습니다.\n\n이것은 당신이 약해서가 아닙니다. 가스라이팅은 서서히 작동합니다. 처음에는 "내가 착각했나?" 정도지만, 6개월 후에는 "내가 문제였구나"가 됩니다.\n\n만약 이 시뮬레이터의 상황이 당신의 현실과 비슷하다면, 지금이 멈추고 돌아볼 때입니다. 당신의 감정은 정당합니다. 당신의 기억은 틀리지 않았습니다.',
            stats: [
              { value: selfScore + '/10', label: '자기 보존 점수' },
              { value: absorbedCount, label: '흡수된 순간' }
            ]
          };
        }
      },
      
      getShareText(resultTitle, choices, principles) {
        const principleNames = principles.map(p => p.name).slice(0, 3).join(', ');
        return '🪞 가스라이팅 시뮬레이터\n\n나의 대응 유형: ' + resultTitle + '\n발견한 원칙: ' + principleNames + '\n\n연인이 말한다. "네가 예민한 거야."\n정말 그럴까?\n\nhttps://eclipse-mindlab.github.io/mindlab/sim-gaslighting.html';
      }
    };
    
    SimTemplate.init(CONFIG);
  </script>
</body>
</html>
